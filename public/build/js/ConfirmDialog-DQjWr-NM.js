import{r as e,j as t}from"./react-core-DkDn4djD.js";import{M as n}from"./Modal-BE2R3cny.js";import{m as s,L as r}from"./ui-libs-OX6CH3yX.js";const i={danger:{badge:"bg-rose-100 text-rose-600",confirm:"bg-gradient-to-r from-rose-500 to-pink-500 hover:from-rose-600 hover:to-pink-600 focus-visible:ring-rose-400",confirmRing:"ring-rose-200",iconWrap:"bg-rose-50 text-rose-500"},primary:{badge:"bg-indigo-100 text-indigo-600",confirm:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 focus-visible:ring-indigo-400",confirmRing:"ring-indigo-200",iconWrap:"bg-indigo-50 text-indigo-500"},neutral:{badge:"bg-slate-100 text-slate-600",confirm:"bg-slate-800 hover:bg-slate-900 focus-visible:ring-slate-400",confirmRing:"ring-slate-200",iconWrap:"bg-slate-50 text-slate-500"}};function o({open:o,title:a,description:l,confirmLabel:c="Ya, lanjutkan",cancelLabel:d="Batal",tone:x="danger",icon:m,loading:p=!1,onConfirm:u,onCancel:f}){const g=i[x],[b,h]=e.useState({x:0,y:0}),[j,v]=e.useState(!1),y=e.useRef(null);e.useEffect(()=>{o&&(h({x:0,y:0}),v(!1),y.current=null)},[o]);const N=e.useMemo(()=>({transform:`translate3d(${b.x}px, ${b.y}px, 0)`,willChange:"transform",cursor:j?"grabbing":"grab"}),[b.x,b.y,j]),w=e=>{const t=y.current;if(t&&t.pointerId===e.pointerId){y.current=null,v(!1);try{e.currentTarget.releasePointerCapture(e.pointerId)}catch{}}};return o?t.jsx(n,{show:o,maxWidth:"sm",onClose:f,panelStyle:N,children:t.jsxs("div",{className:"relative overflow-hidden bg-white",style:{touchAction:"none",userSelect:j?"none":"auto"},onPointerDown:e=>{var t;0===e.button&&((t=e.target)&&Boolean(t.closest(["button","a","input","textarea","select","option","[role='button']","[contenteditable='true']","[data-no-drag]"].join(",")))||(e.preventDefault(),e.currentTarget.setPointerCapture(e.pointerId),y.current={pointerId:e.pointerId,startClientX:e.clientX,startClientY:e.clientY,startX:b.x,startY:b.y},v(!0)))},onPointerMove:e=>{const t=y.current;if(!t||t.pointerId!==e.pointerId)return;e.preventDefault();const n=e.clientX-t.startClientX,s=e.clientY-t.startClientY;h({x:t.startX+n,y:t.startY+s})},onPointerUp:w,onPointerCancel:w,onLostPointerCapture:()=>{y.current=null,v(!1)},children:[t.jsx("div",{className:"pointer-events-none absolute inset-x-0 top-0 h-36 bg-gradient-to-br from-white via-transparent to-transparent opacity-90"}),t.jsxs("div",{className:"space-y-6 p-6",children:[t.jsx("div",{className:"flex w-full justify-center",children:t.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-slate-100 px-3 py-1 text-[11px] font-semibold text-slate-600 select-none shadow-sm",children:[t.jsx(s,{className:"h-4 w-4"}),"Klik & seret (di mana saja)"]})}),t.jsxs("div",{className:"flex items-start gap-4 select-none",children:[t.jsx("div",{className:`flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-2xl shadow-inner ${g.iconWrap}`,children:m??t.jsx("span",{className:"text-lg font-semibold",children:"!"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${g.badge}`,children:"Konfirmasi tindakan"}),t.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2 py-1 text-[11px] font-semibold text-slate-600",children:[t.jsx(s,{className:"h-3.5 w-3.5"}),"Drag"]})]}),t.jsx("h3",{className:"mt-3 text-lg font-semibold text-slate-900",children:a}),l&&t.jsx("p",{className:"mt-2 text-sm text-slate-600",children:l})]})]}),t.jsxs("div",{className:"flex flex-col-reverse gap-3 sm:flex-row sm:justify-end",children:[t.jsx("button",{type:"button",onClick:f,disabled:p,"data-no-drag":!0,className:"inline-flex items-center justify-center rounded-xl border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 transition hover:bg-slate-50 disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed",children:d}),t.jsxs("button",{type:"button",onClick:u,disabled:p,"data-no-drag":!0,className:`inline-flex items-center justify-center rounded-xl px-4 py-2 text-sm font-semibold text-white shadow-md transition focus-visible:outline-none focus-visible:ring-2 ${g.confirm} ${g.confirmRing} disabled:cursor-not-allowed disabled:opacity-70 cursor-pointer`,children:[p&&t.jsx(r,{className:"mr-2 h-4 w-4 animate-spin"}),c]})]})]})]})}):null}export{o as C};
