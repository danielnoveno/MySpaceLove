import{X as e,r as t,j as o,S as r,x as n}from"./react-core-DkDn4djD.js";import{u as s,a as i}from"./games-DLF3M88Y.js";import{aM as a,ag as l}from"./vendor-D-GzWRLi.js";import{g as c}from"./animation-Dcgp7Est.js";import{a as d,d as p,e as m,f as u,g,H as x,S as h,h as b,i as f,V as y,X as v,j as w,k as j,l as k}from"./ui-libs--z-UAavT.js";import"./inertia-BBHw8PYu.js";import"./maps-CVSyMViq.js";const N=(e,t)=>Object.entries(t).reduce((e,[t,o])=>e.replace(new RegExp(`:${t}`,"g"),String(o)),e);function _({onComplete:r,onStart:n,autoStart:s=!1,tourType:i="dashboard"}){const{translations:c,locale:d}=e().props,[p,m]=t.useState(!1),u=(e,t="")=>{const o=e.split(".");let r=c;for(const n of o)r=r?.[n];return r||t},g=[{element:"#space-title",popover:{title:u("tour.welcome.title","Welcome to LoveSpace! üíï"),description:u("tour.welcome.description","Let's take a quick tour to help you get started with all the amazing features!")+'<br/><br/><small style="opacity: 0.8;">üí° '+("id"===d?"Gunakan Enter untuk lanjut, ‚Üê (panah kiri) untuk kembali, atau ESC untuk keluar.":"Use Enter to continue, ‚Üê (arrow left) to go back, or ESC to exit.")+"</small>",side:"bottom",align:"center"}},{element:"#stats-section",popover:{title:u("tour.stats.title","Your Love Statistics üìä"),description:u("tour.stats.description","Track your relationship milestones: days together, memories created, and special moments shared."),side:"bottom",align:"start"}},{element:"#timeline-section",popover:{title:u("tour.quick_timeline.title","Add Moment üìÖ"),description:u("tour.quick_timeline.description","Quick action to add special moments to your timeline."),side:"top",align:"start"}},{element:"#upcoming-event-action",popover:{title:u("tour.quick_countdown.title","Upcoming Events ‚è∞"),description:u("tour.quick_countdown.description","Create and manage countdowns for special dates and anniversaries."),side:"top",align:"start"}},{element:"#games-action",popover:{title:u("tour.quick_games.title","Game Hub üéÆ"),description:u("tour.quick_games.description","Play fun games together: Chess, Tic-Tac-Toe, and more!"),side:"top",align:"start"}},{element:"#gallery-section",popover:{title:u("tour.quick_gallery.title","Upload Photos & Videos üì∏"),description:u("tour.quick_gallery.description","Quick access to upload and manage your precious memories."),side:"top",align:"start"}},{element:"#daily-message-action",popover:{title:u("tour.quick_daily.title","Daily Messages üíå"),description:u("tour.quick_daily.description","Send sweet daily messages to your partner via email."),side:"top",align:"start"}},{element:"#memory-lane-action",popover:{title:u("tour.quick_memory.title","Memory Lane Kit üéÅ"),description:u("tour.quick_memory.description","Create interactive surprise experiences with puzzles and flipbooks!"),side:"top",align:"start"}},{element:"#memory-lane-setup-action",popover:{title:u("tour.quick_memory_setup.title","Configure Memory Lane ‚öôÔ∏è"),description:u("tour.quick_memory_setup.description","Upload puzzle photos and customize level messages for surprises."),side:"top",align:"start"}},{element:"#spotify-action",popover:{title:u("tour.quick_spotify.title","Spotify Companion üéµ"),description:u("tour.quick_spotify.description","Listen to music together with shared playlists and sync playback."),side:"top",align:"start"}},{element:"#journal-section",popover:{title:u("tour.quick_journal.title","Write Journal üìñ"),description:u("tour.quick_journal.description","Document your feelings and relationship journey in private or shared entries."),side:"top",align:"start"}},{element:"#watch-party-action",popover:{title:u("tour.quick_watch.title","Join Watch Party üì∫"),description:u("tour.quick_watch.description","Start a co-watching session with your partner."),side:"top",align:"start"}},{element:"#countdown-section",popover:{title:u("tour.countdown_section.title","Upcoming Events Widget ‚è∞"),description:u("tour.countdown_section.description","See your upcoming special dates at a glance."),side:"top",align:"start"}},{element:"#daily-messages-section",popover:{title:u("tour.daily_section.title","Recent Messages Widget üíå"),description:u("tour.daily_section.description","View your latest love messages here."),side:"top",align:"start"}},{element:"#dashboard-menu",popover:{title:u("tour.navbar_dashboard.title","Dashboard Menu üè†"),description:u("tour.navbar_dashboard.description","Return to your dashboard from anywhere."),side:"bottom",align:"start"}},{element:"#timeline-menu",popover:{title:u("tour.navbar_timeline.title","Timeline Menu üìÖ"),description:u("tour.navbar_timeline.description","View all your special moments chronologically."),side:"bottom",align:"start"}},{element:"#daily-menu",popover:{title:u("tour.navbar_daily.title","Daily Messages Menu üíå"),description:u("tour.navbar_daily.description","Access your daily messages inbox."),side:"bottom",align:"start"}},{element:"#gallery-menu",popover:{title:u("tour.navbar_gallery.title","Gallery Menu üì∏"),description:u("tour.navbar_gallery.description","Browse your photo and video collection."),side:"bottom",align:"start"}},{element:"#spotify-menu",popover:{title:u("tour.navbar_spotify.title","Spotify Menu üéµ"),description:u("tour.navbar_spotify.description","Quick access to Spotify Companion features."),side:"bottom",align:"start"}},{element:"#games-menu",popover:{title:u("tour.navbar_games.title","Games Menu üéÆ"),description:u("tour.navbar_games.description","Jump to your game collection."),side:"bottom",align:"start"}},{element:"#notifications-button",popover:{title:u("tour.notifications.title","Notifications üîî"),description:u("tour.notifications.description","Stay updated with all activities and interactions."),side:"bottom",align:"end"}},{element:"#spaces-menu",popover:{title:u("tour.spaces.title","Spaces Manager üè°"),description:u("tour.spaces.description","Manage multiple spaces for different relationships."),side:"bottom",align:"end"}},{element:"#profile-menu",popover:{title:u("tour.profile.title","Your Profile ‚öôÔ∏è"),description:u("tour.profile.description","Manage settings, language, and preferences."),side:"bottom",align:"end"}},{popover:{title:u("tour.complete.title","You're All Set! üéâ"),description:u("tour.complete.description","Start creating beautiful memories with your partner. You can replay this tour anytime from the help button. Enjoy LoveSpace!")}}],x=()=>{const e=a({showProgress:!0,progressText:"id"===d?"{{current}} dari {{total}}":"{{current}} of {{total}}",nextBtnText:u("tour.next","Next")+" ‚Üí",prevBtnText:"‚Üê "+u("tour.previous","Previous"),doneBtnText:u("tour.done","Done")+" ‚úì",showButtons:["next","previous","close"],steps:g.filter(e=>!e.element||null!==document.querySelector(e.element)),onDestroyStarted:()=>{e.destroy(),m(!1);const t=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");l.post(route("tour.complete"),{},{headers:{"X-CSRF-TOKEN":t}}).then(()=>{}).catch(e=>{}),r&&r()},onDestroyed:()=>{m(!1),r&&r()},popoverClass:"lovespace-tour-popover",overlayColor:"rgba(0, 0, 0, 0.7)",smoothScroll:!0,allowClose:!0,disableActiveInteraction:!1,onCloseClick:()=>{e.destroy()}}),t=t=>{document.querySelector(".driver-popover")&&("Enter"===t.key?(t.preventDefault(),t.stopPropagation(),e.moveNext()):("ArrowLeft"===t.key||"Escape"===t.key&&e.getActiveIndex&&e.getActiveIndex()>0)&&("ArrowLeft"===t.key||e.getActiveIndex()>0)&&(t.preventDefault(),t.stopPropagation(),e.movePrevious()))};document.addEventListener("keydown",t,!0);const o=e.destroy.bind(e);e.destroy=()=>{document.removeEventListener("keydown",t,!0),o()},e.drive(),m(!0),n&&n()};return t.useEffect(()=>{if(s){const e=setTimeout(()=>{x()},1e3);return()=>clearTimeout(e)}},[s]),o.jsxs("div",{className:"product-tour-container",children:[!p&&o.jsxs("button",{onClick:x,title:u("tour.start_tour","Start Tour"),className:"fixed bottom-6 right-6 z-50 bg-gradient-to-r from-pink-500 to-purple-600 text-white w-14 h-14 rounded-full shadow-lg hover:shadow-xl transform hover:scale-110 transition-all duration-300 flex items-center justify-center group","aria-label":u("tour.start_tour","Start Tour"),children:[o.jsx("svg",{className:"w-7 h-7 group-hover:rotate-12 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{className:"absolute -top-2 -right-2 bg-pink-600 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center animate-pulse",children:"?"})]}),o.jsx("style",{children:"\n                .lovespace-tour-popover {\n                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n                    border-radius: 16px;\n                    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n                }\n\n                .lovespace-tour-popover .driver-popover-title {\n                    font-size: 1.25rem;\n                    font-weight: 700;\n                    color: white;\n                    margin-bottom: 0.5rem;\n                }\n\n                .lovespace-tour-popover .driver-popover-description {\n                    font-size: 0.95rem;\n                    color: rgba(255, 255, 255, 0.95);\n                    line-height: 1.6;\n                }\n\n                .lovespace-tour-popover .driver-popover-progress-text {\n                    color: rgba(255, 255, 255, 0.8);\n                    font-size: 0.85rem;\n                }\n\n                .lovespace-tour-popover button {\n                    background: white;\n                    color: #667eea;\n                    border: none;\n                    padding: 0.5rem 1.25rem;\n                    border-radius: 8px;\n                    font-weight: 600;\n                    transition: all 0.2s;\n                }\n\n                .lovespace-tour-popover button:hover {\n                    transform: translateY(-2px);\n                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n                }\n\n\n                .lovespace-tour-popover .driver-popover-close-btn {\n                    color: white !important;\n                    background: rgba(255, 255, 255, 0.15) !important;\n                    backdrop-filter: blur(10px) !important;\n                    width: 24px !important;\n                    height: 24px !important;\n                    min-width: 24px !important;\n                    min-height: 24px !important;\n                    max-width: 24px !important;\n                    max-height: 24px !important;\n                    border-radius: 50% !important;\n                    padding: 0 !important;\n                    display: flex !important;\n                    align-items: center !important;\n                    justify-content: center !important;\n                    font-size: 16px !important;\n                    font-weight: 600 !important;\n                    line-height: 1 !important;\n                    opacity: 0.9 !important;\n                    transition: all 0.25s ease !important;\n                    cursor: pointer !important;\n                    position: absolute !important;\n                    top: 12px !important;\n                    right: 12px !important;\n                    border: 1px solid rgba(255, 255, 255, 0.2) !important;\n                    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;\n                }\n\n                .lovespace-tour-popover .driver-popover-close-btn:hover {\n                    background: rgba(255, 255, 255, 0.25) !important;\n                    opacity: 1 !important;\n                    transform: scale(1.05) rotate(90deg) !important;\n                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;\n                    border-color: rgba(255, 255, 255, 0.3) !important;\n                }\n\n                .lovespace-tour-popover .driver-popover-close-btn:active {\n                    transform: scale(0.95) rotate(90deg) !important;\n                }\n\n                .driver-active-element {\n                    border-radius: 8px;\n                }\n\n                .driver-popover-arrow {\n                    display: none;\n                }\n            "})]})}const C="132, 0, 255",S=({children:e,className:r="",disableAnimations:n=!1,style:s,enableTilt:i=!1,enableMagnetism:a=!1,clickEffect:l=!0,glowColor:d=C,as:p="div",...m})=>{const u=t.useRef(null);return t.useEffect(()=>{if(!u.current||n)return;const e=u.current,t=t=>{if(n)return;const o=e.getBoundingClientRect(),r=t.clientX-o.left,s=t.clientY-o.top,l=o.width/2,d=o.height/2;if(i){const t=(s-d)/d*-10,o=(r-l)/l*10;c.to(e,{rotateX:t,rotateY:o,duration:.1,ease:"power2.out",transformPerspective:1e3})}if(a){const t=.05*(r-l),o=.05*(s-d);c.to(e,{x:t,y:o,duration:.3,ease:"power2.out"})}},o=()=>{n||(i&&c.to(e,{rotateX:0,rotateY:0,duration:.3,ease:"power2.out"}),a&&c.to(e,{x:0,y:0,duration:.3,ease:"power2.out"}))},r=t=>{if(m.onClick&&m.onClick(t),!l||n)return;const o=e.getBoundingClientRect(),r=t.clientX-o.left,s=t.clientY-o.top,i=Math.max(Math.hypot(r,s),Math.hypot(r-o.width,s),Math.hypot(r,s-o.height),Math.hypot(r-o.width,s-o.height)),a=document.createElement("div");a.style.cssText=`\n              position: absolute;\n              width: ${2*i}px;\n              height: ${2*i}px;\n              border-radius: 50%;\n              background: radial-gradient(circle, rgba(${d}, 0.4) 0%, rgba(${d}, 0.2) 30%, transparent 70%);\n              left: ${r-i}px;\n              top: ${s-i}px;\n              pointer-events: none;\n              z-index: 1000;\n            `,e.appendChild(a),c.fromTo(a,{scale:0,opacity:1},{scale:1,opacity:0,duration:.8,ease:"power2.out",onComplete:()=>a.remove()})};return e.addEventListener("mousemove",t),e.addEventListener("mouseleave",o),e.addEventListener("click",r),()=>{e.removeEventListener("mousemove",t),e.removeEventListener("mouseleave",o),e.removeEventListener("click",r)}},[n,i,a,l,d,m.onClick]),o.jsx(p,{ref:u,className:`${r} relative overflow-hidden`,style:{...s},...m,children:e})},E=({gridRef:e,disableAnimations:o=!1,enabled:r=!0,spotlightRadius:n=300,glowColor:s=C})=>{const i=t.useRef(null),a=t.useRef(!1);return t.useEffect(()=>{if(o||!e?.current||!r)return;const t=document.createElement("div");t.className="global-spotlight",t.style.cssText=`\n      position: fixed;\n      width: 800px;\n      height: 800px;\n      border-radius: 50%;\n      pointer-events: none;\n      background: radial-gradient(circle,\n        rgba(${s}, 0.15) 0%,\n        rgba(${s}, 0.08) 15%,\n        rgba(${s}, 0.04) 25%,\n        rgba(${s}, 0.02) 40%,\n        rgba(${s}, 0.01) 65%,\n        transparent 70%\n      );\n      z-index: 200;\n      opacity: 0;\n      transform: translate(-50%, -50%);\n      mix-blend-mode: screen;\n    `,document.body.appendChild(t),i.current=t;const l=t=>{if(!i.current||!e.current)return;const o=e.current.closest(".bento-section"),r=o?.getBoundingClientRect(),s=r&&t.clientX>=r.left&&t.clientX<=r.right&&t.clientY>=r.top&&t.clientY<=r.bottom;a.current=s||!1;const l=e.current.querySelectorAll(".card");if(!s)return c.to(i.current,{opacity:0,duration:.3,ease:"power2.out"}),void l.forEach(e=>{e.style.setProperty("--glow-intensity","0")});const{proximity:d,fadeDistance:p}={proximity:.5*(m=n),fadeDistance:.75*m};var m;let u=1/0;l.forEach(e=>{const o=e,r=o.getBoundingClientRect(),s=r.left+r.width/2,i=r.top+r.height/2,a=Math.hypot(t.clientX-s,t.clientY-i)-Math.max(r.width,r.height)/2,l=Math.max(0,a);u=Math.min(u,l);let c=0;l<=d?c=1:l<=p&&(c=(p-l)/(p-d)),((e,t,o,r,n)=>{const s=e.getBoundingClientRect(),i=(t-s.left)/s.width*100,a=(o-s.top)/s.height*100;e.style.setProperty("--glow-x",`${i}%`),e.style.setProperty("--glow-y",`${a}%`),e.style.setProperty("--glow-intensity",r.toString()),e.style.setProperty("--glow-radius",`${n}px`)})(o,t.clientX,t.clientY,c,n)}),c.to(i.current,{left:t.clientX,top:t.clientY,duration:.1,ease:"power2.out"});const g=u<=d?.8:u<=p?(p-u)/(p-d)*.8:0;c.to(i.current,{opacity:g,duration:g>0?.2:.5,ease:"power2.out"})},d=()=>{a.current=!1,e.current?.querySelectorAll(".card").forEach(e=>{e.style.setProperty("--glow-intensity","0")}),i.current&&c.to(i.current,{opacity:0,duration:.3,ease:"power2.out"})};return document.addEventListener("mousemove",l),document.addEventListener("mouseleave",d),()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseleave",d),i.current?.parentNode?.removeChild(i.current)}},[e,o,r,n,s]),null},M=({children:e,gridRef:t,className:r})=>o.jsx("div",{className:`bento-section ${r||""} relative`,ref:t,children:e}),q=({textAutoHide:e=!0,enableStars:r=!0,enableSpotlight:n=!0,enableBorderGlow:s=!0,disableAnimations:i=!1,spotlightRadius:a=300,particleCount:l=12,enableTilt:c=!1,glowColor:d=C,clickEffect:p=!0,enableMagnetism:m=!0,children:u,className:g})=>{const x=t.useRef(null),h=(()=>{const[e,o]=t.useState(!1);return t.useEffect(()=>{const e=()=>o(window.innerWidth<=768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e})(),b=i||h;return o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`\n          .bento-section {\n            --glow-x: 50%;\n            --glow-y: 50%;\n            --glow-intensity: 0;\n            --glow-radius: 200px;\n            --glow-color: ${d};\n          }\n          \n          .card--border-glow::after {\n            content: '';\n            position: absolute;\n            inset: 0;\n            padding: 2px; /* Thinner border for cleaner look */\n            background: radial-gradient(var(--glow-radius) circle at var(--glow-x) var(--glow-y),\n                rgba(${d}, calc(var(--glow-intensity) * 0.8)) 0%,\n                rgba(${d}, calc(var(--glow-intensity) * 0.4)) 30%,\n                transparent 60%);\n            border-radius: inherit;\n            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);\n            -webkit-mask-composite: xor;\n            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);\n            mask-composite: exclude;\n            pointer-events: none;\n            opacity: 1;\n            transition: opacity 0.3s ease;\n            z-index: 10;\n          }\n          \n          .card--border-glow:hover::after {\n            opacity: 1;\n          }\n          \n          .particle::before {\n            content: '';\n            position: absolute;\n            top: -2px;\n            left: -2px;\n            right: -2px;\n            bottom: -2px;\n            background: rgba(${d}, 0.2);\n            border-radius: 50%;\n            z-index: -1;\n          }\n        `}),n&&o.jsx(E,{gridRef:x,disableAnimations:b,enabled:n,spotlightRadius:a,glowColor:d}),o.jsx(M,{gridRef:x,className:g,children:u})]})};function T({dashboardData:a,spaceContext:c}){const{props:C}=e(),E=C.currentSpace??c,M=E.slug,T=E.title,P=E.has_partner??c.has_partner??!1,L=E.is_owner??c.is_owner??!1,$=!P,{translations:R}=s("dashboard"),{t:z}=s("common"),A=R.locks?.requires_partner??"Connect your partner first to unlock this feature.",D=R.locks?.requires_owner??"Only the space owner can manage this feature.",Y=R.locks?.owner_badge??"Owner only",[X,B]=t.useState(null),[W,U]=t.useState(!1),[I,O]=t.useState({}),[F,G]=t.useState(!1),[J,K]=t.useState(!1),[V,H]=t.useState(!1),[Q,Z]=t.useState(null),ee=t.useCallback(e=>{$&&(e.preventDefault(),G(!0))},[$,G]),te=t.useCallback(()=>{const e=document.cookie.match(/XSRF-TOKEN=([^;]+)/);return e?decodeURIComponent(e[1]):null},[]),oe=t.useCallback(async()=>{te()||await l.get("/sanctum/csrf-cookie",{withCredentials:!0});const e=te();e&&(l.defaults.headers.common["X-XSRF-TOKEN"]=e)},[te]),re=t.useMemo(()=>X?X.split(/(\*[^*]+\*)/g).map((e,r)=>{const n=e.match(/^\*([^*]+)\*$/);return n?o.jsx("strong",{className:"font-semibold text-pink-500",children:n[1]},`bold-${r}`):o.jsx(t.Fragment,{children:e},`text-${r}`)}):null,[X]),ne=t.useCallback(e=>{"string"==typeof e&&""!==e.trim()&&(V?Z(e):(B(e),U(!0)))},[V]),se=t.useCallback(e=>"string"==typeof e?e:e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message?e.message:null,[]);t.useEffect(()=>{(async()=>{await oe(),await(async()=>{const e=`daily_message_shown_${M}`;if(!sessionStorage.getItem(e))try{const t=await l.get(route("api.spaces.daily-message",{space:M})),o=se(t.data?.message);if(200===t.status&&o)return ne(o),void sessionStorage.setItem(e,"true")}catch(t){}})()})()},[oe,se,ne,M]),t.useEffect(()=>{if(!V&&Q){B(Q),U(!0),Z(null);const e=`daily_message_shown_${M}`;sessionStorage.setItem(e,"true")}},[V,Q,M]);const ie=R.cards?.quick_actions,ae=t.useMemo(()=>[{id:"timeline-section",icon:d,label:ie?.add_moment?.label??"Add Moment",description:ie?.add_moment?.description??"Record a special memory",href:route("timeline.index",{space:M}),color:"from-pink-500 to-rose-500",requiresPartner:!0},{id:"upcoming-event-action",icon:p,label:ie?.upcoming_event?.label??"Upcoming Event",description:ie?.upcoming_event?.description??"Manage romantic countdowns",href:route("countdown.index",{space:M}),color:"from-violet-500 to-indigo-500",requiresPartner:!0},{id:"games-action",icon:m,label:ie?.games?.label??"Games",description:ie?.games?.description??"Play and track space scores",href:route("games.index",{space:M}),color:"from-indigo-600 to-blue-600"},{id:"gallery-section",icon:u,label:ie?.upload_photo?.label??"Upload Photo",description:ie?.upload_photo?.description??"Save your memories",href:route("gallery.index",{space:M}),color:"from-blue-500 to-cyan-500",requiresPartner:!0},{id:"daily-message-action",icon:g,label:ie?.daily_message?.label??"Daily Messages",description:ie?.daily_message?.description??"Read love notes",href:route("daily.index",{space:M}),color:"from-purple-500 to-indigo-500",requiresPartner:!0},{id:"memory-lane-action",icon:x,label:ie?.memory_lane?.label??"Memory Lane Kit",description:ie?.memory_lane?.description??"Three-stage surprise guide + storybook",href:route("surprise.memory.space",{space:M}),color:"from-fuchsia-500 to-violet-500",requiresPartner:!0},{id:"memory-lane-setup-action",icon:h,label:ie?.memory_lane_setup?.label??"Configure Memory Lane",description:ie?.memory_lane_setup?.description??"Upload puzzle photos & level messages",href:route("memory-lane.edit",{space:M}),color:"from-amber-500 to-orange-500",requiresOwner:!0},{id:"spotify-action",icon:b,label:ie?.spotify?.label??"Spotify Companion",description:ie?.spotify?.description??"Sync music and moods remotely",href:route("spotify.companion",{space:M}),color:"from-emerald-500 to-teal-500",requiresPartner:!0},{id:"journal-section",icon:f,label:ie?.journal?.label??"Write Journal",description:ie?.journal?.description??"Express your feelings",href:route("journal.index",{space:M}),color:"from-green-500 to-emerald-500",requiresPartner:!0},{id:"watch-party-action",icon:y,label:ie?.nobar?.label??"Join Watch Party",description:ie?.nobar?.description??"Start a co-watching session",href:route("space.nobar",{space:M}),color:"from-red-500 to-orange-500",requiresPartner:!0,comingSoon:!1}],[ie,M,L]),le=t.useMemo(()=>a.recentMessages.slice(0,3),[a.recentMessages]),ce=t.useCallback(e=>{O(t=>({...t,[e]:!t[e]}))},[]);return o.jsxs(i,{header:o.jsxs("div",{id:"space-title",className:"flex flex-col gap-1",children:[o.jsx("p",{className:"text-sm text-gray-500",children:R.header?.subtitle??"Your shared space"}),o.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:T})]}),dimNav:W,children:[o.jsx(r,{title:N(R.meta?.title??"Dashboard - :space",{space:T})}),J&&o.jsx("div",{className:"mx-auto mt-4 w-full max-w-4xl px-4",children:o.jsxs("div",{className:"flex flex-wrap items-start gap-4 rounded-3xl border border-amber-200 bg-amber-50/95 p-5 text-amber-700 shadow-sm",children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-amber-100",children:o.jsx(h,{className:"h-5 w-5 text-amber-600","aria-hidden":"true"})}),o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx("p",{className:"text-sm font-semibold uppercase tracking-wide text-amber-700",children:"Watch Party Feature Coming Soon"}),o.jsx("p",{className:"text-sm text-amber-600",children:"We're still preparing the best watch party experience. Thank you for waiting‚Äîwe'll notify you directly from the dashboard as soon as this feature is ready."})]}),o.jsx("button",{type:"button",onClick:()=>K(!1),className:"ml-auto inline-flex items-center justify-center rounded-full bg-amber-200/70 p-2 text-amber-700 transition hover:bg-amber-200","aria-label":z("actions.close","Tutup"),children:o.jsx(v,{className:"h-4 w-4"})})]})}),W&&X&&o.jsx("div",{className:"fixed inset-0 z-[1050] flex items-center justify-center bg-black/60 backdrop-blur-sm px-4",onClick:()=>U(!1),children:o.jsxs("div",{className:"relative w-full max-w-lg rounded-3xl bg-white p-8 shadow-2xl",onClick:e=>e.stopPropagation(),children:[o.jsx("button",{type:"button",onClick:()=>U(!1),className:"absolute right-4 top-4 text-gray-400 transition hover:text-gray-600","aria-label":z("actions.close","Tutup"),children:o.jsx(v,{className:"h-5 w-5"})}),o.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-pink-100",children:o.jsx(x,{className:"h-8 w-8 text-pink-500"})}),o.jsx("h3",{className:"mt-4 text-center text-xl font-semibold text-gray-900",children:R.modals?.daily_message?.title??"Today's Love Message"}),o.jsx("p",{className:"mt-3 text-center text-sm leading-relaxed text-gray-600",children:re})]})}),F&&o.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/30 px-4",onClick:()=>G(!1),children:o.jsxs("div",{className:"relative w-full max-w-sm rounded-3xl bg-white p-8 text-center shadow-2xl",onClick:e=>e.stopPropagation(),children:[o.jsx("button",{type:"button",onClick:()=>G(!1),className:"absolute right-4 top-4 text-gray-400 transition hover:text-gray-600","aria-label":z("actions.close","Tutup"),children:o.jsx(v,{className:"h-5 w-5"})}),o.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-pink-100",children:o.jsx(w,{className:"h-8 w-8 text-pink-500"})}),o.jsx("h3",{className:"mt-4 text-xl font-semibold text-gray-900",children:R.modals?.locked?.title??"Feature Locked"}),o.jsx("p",{className:"mt-3 text-sm leading-relaxed text-gray-600",children:A}),o.jsx("button",{type:"button",onClick:()=>G(!1),className:"mt-6 inline-flex items-center justify-center rounded-full bg-pink-500 px-6 py-2 text-sm font-semibold text-white transition hover:bg-pink-600",children:R.modals?.locked?.action??z("actions.understand","Mengerti")})]})}),o.jsxs("div",{className:"mx-auto flex max-w-7xl flex-col gap-8 px-4 py-4",children:[!P&&L&&o.jsx("div",{className:"rounded-3xl border border-dashed border-indigo-200 bg-indigo-50 p-6 shadow-sm",children:o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-indigo-100",children:o.jsx(j,{className:"h-6 w-6 text-indigo-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-indigo-900",children:R.cards?.partner_pending?.title??"Partner not connected yet"}),o.jsx("p",{className:"mt-1 text-sm text-indigo-700",children:R.cards?.partner_pending?.description??"Invite your partner so you can enjoy every feature together."})]})]}),o.jsx(n,{href:route("spaces.index"),className:"inline-flex items-center justify-center rounded-full bg-indigo-600 px-5 py-2 text-sm font-semibold text-white transition hover:bg-indigo-700",children:R.cards?.partner_pending?.cta??"Connect Partner"})]})}),o.jsxs("div",{id:"stats-section",className:"grid gap-6 md:grid-cols-3",children:[o.jsx("div",{className:"rounded-3xl bg-white p-6 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-pink-100",children:o.jsx(d,{className:"h-5 w-5 text-pink-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:R.cards?.timeline_total??"Total Timeline"}),o.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:a.timelineCount})]})]})}),o.jsx("div",{className:"rounded-3xl bg-white p-6 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-100",children:o.jsx(u,{className:"h-5 w-5 text-blue-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-500",children:R.cards?.gallery_total??"Photos & Videos"}),o.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:a.galleryCount})]})]})}),o.jsx("div",{className:"rounded-3xl bg-gradient-to-r from-purple-500 to-pink-500 p-6 text-white shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/20",children:o.jsx(k,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-purple-100",children:R.cards?.location_share?.title??"Location Sharing"}),o.jsxs(n,{href:route("location.map",{space:M}),onClick:$?ee:void 0,title:$?A:void 0,"aria-disabled":$,className:"mt-1 inline-flex items-center gap-2 rounded-full px-4 py-1 text-sm font-medium text-white transition "+($?"cursor-not-allowed bg-white/10 opacity-60":"bg-white/20 hover:bg-white/30"),children:[R.cards?.location_share?.cta??"Open Map",o.jsx(y,{className:"h-4 w-4"})]})]})]})})]}),o.jsxs("div",{id:"quick-actions-section",className:"rounded-3xl bg-white p-6 shadow-sm",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:R.cards?.quick_actions?.title??"Quick Actions"}),o.jsx(q,{className:"mt-4 grid gap-4 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5",glowColor:"236, 72, 153",enableSpotlight:!0,enableBorderGlow:!0,enableTilt:!0,children:ae.map((e,t)=>{const r=e.requiresOwner&&!L,s=$&&e.requiresPartner,i=!0===e.comingSoon,a=r||s||i,l=i?"Watch party feature is still in development. Stay tuned!":r?D:s?A:void 0,c=i?e=>{e.preventDefault(),K(!0)}:r?e=>{e.preventDefault()}:s?ee:void 0;return o.jsxs(S,{as:n,id:e.id,href:i?"#":e.href,onClick:c,title:l,"aria-disabled":a,enableTilt:!0,enableMagnetism:!0,glowColor:"236, 72, 153",className:"card card--border-glow group relative rounded-2xl border border-gray-100 bg-white p-6 shadow-sm transition "+(a?"cursor-not-allowed opacity-70":"hover:border-transparent hover:shadow-lg"),children:[o.jsx("div",{className:`mb-3 w-fit rounded-xl bg-gradient-to-r ${e.color} p-3 transition-transform ${a?"":"group-hover:scale-110"}`,children:o.jsx(e.icon,{className:"h-6 w-6 text-white"})}),o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.label,i&&o.jsxs("span",{className:"inline-flex items-center justify-center gap-1 rounded-full bg-amber-100 px-2 py-0.5 text-xs font-semibold text-amber-600",children:[o.jsx(h,{className:"h-3.5 w-3.5","aria-hidden":"true"}),"Coming Soon"]}),!i&&(r||s)&&o.jsxs("span",{className:"inline-flex items-center justify-center gap-1 rounded-full bg-pink-100 px-2 py-0.5 text-xs font-semibold text-pink-500",children:[o.jsx(w,{className:"h-3 w-3"}),r?Y:z("states.locked","Terkunci")]})]}),o.jsx("p",{className:"mt-1 text-sm text-gray-600",children:e.description})]},t)})})]}),o.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[o.jsxs("div",{id:"countdown-section",className:"rounded-3xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsxs("h2",{className:"mb-4 flex items-center gap-2 text-xl font-semibold text-gray-900",children:[o.jsx(d,{className:"h-5 w-5 text-orange-500"}),R.cards?.upcoming_events?.title??"Upcoming Events"]}),o.jsxs("div",{className:"space-y-3",children:[0===a.upcomingEvents.length&&o.jsx("p",{className:"rounded-2xl border border-dashed border-orange-200 bg-orange-50 p-4 text-sm text-orange-600",children:R.cards?.upcoming_events?.empty??"No events scheduled yet. Create your first countdown!"}),a.upcomingEvents.map((e,t)=>o.jsxs("div",{className:"flex items-center gap-3 rounded-2xl border border-orange-100 bg-orange-50 p-3",children:[o.jsx("div",{className:"rounded-xl bg-white p-2",children:o.jsx(p,{className:"h-5 w-5 text-orange-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:e.event_name}),o.jsx("p",{className:"text-xs text-orange-600",children:N(R.cards?.upcoming_events?.days_left??":count days left",{count:e.days_left})})]})]},t))]}),o.jsx(n,{href:route("countdown.index",{space:M}),onClick:$?ee:void 0,title:$?A:void 0,"aria-disabled":$,className:"mt-4 block text-center text-sm font-medium transition "+($?"cursor-not-allowed text-orange-300":"text-orange-600 hover:text-orange-700"),children:R.cards?.upcoming_events?.view_all??z("actions.view_all","Lihat Semua")})]}),o.jsxs("div",{id:"daily-messages-section",className:"rounded-3xl border border-purple-100 bg-white p-6 shadow-sm",children:[o.jsxs("h2",{className:"mb-4 flex items-center gap-2 text-xl font-semibold text-gray-900",children:[o.jsx(g,{className:"h-5 w-5 text-purple-500"}),R.cards?.recent_messages?.title??"Latest Messages"]}),o.jsxs("div",{className:"space-y-3",children:[0===a.recentMessages.length&&o.jsx("p",{className:"rounded-2xl border border-dashed border-purple-200 bg-purple-50 p-4 text-sm text-purple-600",children:R.cards?.recent_messages?.empty??"No new messages yet. Write something special for your partner!"}),le.map((e,t)=>o.jsxs("div",{className:"rounded-2xl border border-purple-100 bg-purple-50 p-4",children:[o.jsx("p",{className:"text-xs text-purple-600 font-semibold mb-1",children:e.user?.name}),o.jsxs("p",{className:"text-sm text-gray-700",children:[I[t]||e.message.length<=120?`"${e.message}"`:`"${e.message.slice(0,120)}‚Ä¶"`," "]}),e.message.length>120&&o.jsx("button",{type:"button",onClick:()=>ce(t),className:"mt-3 text-xs font-medium text-purple-600 transition hover:text-purple-700",children:I[t]?R.cards?.recent_messages?.show_less??"Hide":R.cards?.recent_messages?.show_more??"Read more"}),o.jsx("p",{className:"mt-3 text-xs text-purple-500",children:e.date})]},`${e.date}-${t}`))]}),o.jsx(n,{href:route("daily.index",{space:M}),onClick:$?ee:void 0,title:$?A:void 0,"aria-disabled":$,className:"mt-4 block text-center text-sm font-medium transition "+($?"cursor-not-allowed text-purple-300":"text-purple-600 hover:text-purple-700"),children:R.cards?.recent_messages?.view_all??z("actions.view_all","Lihat Semua")})]})]})]}),o.jsx(_,{autoStart:C.shouldShowTour??!1,onStart:()=>H(!0),onComplete:()=>H(!1)})]})}export{T as default};
