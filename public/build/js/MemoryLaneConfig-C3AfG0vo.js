import{r as e,j as s,X as t,G as l,S as a,x as r}from"./react-core-Qj66Ha7M.js";import{u as i,a as n}from"./games-CFSwBByO.js";import{c as o}from"./imageConverter-BDj124y7.js";import{a3 as c,y as d,U as m,P as x,f as u,T as h,a4 as p,L as b}from"./ui-libs-CcEHHdUW.js";import"./inertia-COacoA5b.js";import"./vendor-CMS1sWg9.js";import"./maps-CDMlDeKs.js";import"./animation-irwqq3Ld.js";function g({defaultRewards:t,customRewards:l,onChange:a}){const[r,i]=e.useState(!1),n=t.map(e=>{const s=l.find(s=>s.id===e.id);return{...e,enabled:s?.enabled??!0}}),o=e=>{const s=n.map(s=>({...s,enabled:e}));a(s)},m=n.filter(e=>e.enabled).length,x={emotional:n.filter(e=>"emotional"===e.category),action:n.filter(e=>"action"===e.category),privilege:n.filter(e=>"privilege"===e.category)};return s.jsxs("section",{className:"space-y-4",children:[s.jsxs("header",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Level 1: Lucky Box Rewards"}),s.jsx("button",{type:"button",onClick:()=>i(!r),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-50",children:r?s.jsxs(s.Fragment,{children:[s.jsx(c,{className:"h-4 w-4"}),"Tutup"]}):s.jsxs(s.Fragment,{children:[s.jsx(d,{className:"h-4 w-4"}),"Customize"]})})]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Setelah puzzle level 1, user akan memilih 2 dari 5 kotak hadiah. Aktifkan/nonaktifkan hadiah yang ingin ditampilkan."}),s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-lg bg-blue-50 px-3 py-2 text-sm text-blue-700",children:[s.jsx("strong",{children:m})," dari ",n.length," hadiah aktif"]})]}),r&&s.jsxs("div",{className:"space-y-4 rounded-2xl border border-slate-200 bg-slate-50 p-6",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{type:"button",onClick:()=>o(!0),className:"rounded-lg bg-emerald-500 px-4 py-2 text-sm font-medium text-white transition hover:bg-emerald-600",children:"Aktifkan Semua"}),s.jsx("button",{type:"button",onClick:()=>o(!1),className:"rounded-lg bg-slate-500 px-4 py-2 text-sm font-medium text-white transition hover:bg-slate-600",children:"Nonaktifkan Semua"})]}),Object.entries(x).map(([e,t])=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"text-sm font-semibold uppercase tracking-wider text-slate-600",children:["emotional"===e&&"ðŸ’ Emotional & Relationship","action"===e&&"ðŸŽ¯ Action & Challenge","privilege"===e&&"âœ¨ Privilege & Fun Rules"]}),s.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:t.map(e=>s.jsxs("label",{className:"flex cursor-pointer items-start gap-3 rounded-xl border-2 p-4 transition "+(e.enabled?"border-emerald-300 bg-white":"border-slate-200 bg-slate-100 opacity-60"),children:[s.jsx("input",{type:"checkbox",checked:e.enabled,onChange:()=>(e=>{const s=n.map(s=>s.id===e?{...s,enabled:!s.enabled}:s);a(s)})(e.id),className:"mt-1 h-5 w-5 rounded border-slate-300 text-emerald-600 focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2"}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:e.icon}),s.jsx("h5",{className:"font-semibold text-slate-900",children:e.title})]}),s.jsx("p",{className:"text-xs text-slate-600",children:e.description})]})]},e.id))})]},e))]})]})}function f({pages:t,onChange:l,onImageChange:a,coverImage:r,coverTitle:i="",onCoverImageChange:n,onCoverTitleChange:o}){const[p,b]=e.useState(!1),[g,f]=e.useState(r||null),v=(e,s,a)=>{const r=t.map((t,l)=>l===e?{...t,[s]:a}:t);l(r)};return s.jsxs("section",{className:"space-y-4",children:[s.jsxs("header",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Level 2: Flipbook/Scrapbook"}),s.jsx("button",{type:"button",onClick:()=>b(!p),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-50",children:p?s.jsxs(s.Fragment,{children:[s.jsx(c,{className:"h-4 w-4"}),"Tutup"]}):s.jsxs(s.Fragment,{children:[s.jsx(d,{className:"h-4 w-4"}),"Customize"]})})]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Setelah puzzle level 2, user akan melihat flipbook dengan halaman-halaman kenangan. Tambahkan hingga 10 halaman."}),s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-lg bg-blue-50 px-3 py-2 text-sm text-blue-700",children:[s.jsx("strong",{children:t.length})," halaman"]})]}),p&&s.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-slate-50 p-6",children:[s.jsxs("div",{className:"space-y-4 rounded-xl border border-slate-200 bg-white p-6",children:[s.jsx("h4",{className:"font-semibold text-slate-900",children:"Cover Flipbook"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Atur gambar dan judul cover untuk flipbook Anda."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Gambar Cover"}),g?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:g,alt:"Cover Preview",className:"h-48 w-full rounded-lg object-cover"}),s.jsx("label",{htmlFor:"flipbook-cover-image",className:"absolute inset-0 flex cursor-pointer items-center justify-center rounded-lg bg-black/50 opacity-0 transition hover:opacity-100",children:s.jsx("span",{className:"rounded-lg bg-white px-4 py-2 text-sm font-semibold text-slate-900",children:"Ganti Gambar Cover"})})]}):s.jsxs("label",{htmlFor:"flipbook-cover-image",className:"flex h-48 cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-slate-300 bg-slate-50 transition hover:border-slate-400 hover:bg-slate-100",children:[s.jsx(m,{className:"h-8 w-8 text-slate-400"}),s.jsx("span",{className:"mt-2 text-sm text-slate-600",children:"Upload gambar cover"})]}),s.jsx("input",{id:"flipbook-cover-image",type:"file",accept:"image/*",className:"hidden",onChange:e=>{const s=e.target.files?.[0];if(s&&n){n(s);const e=new FileReader;e.onloadend=()=>{f(e.result)},e.readAsDataURL(s)}}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Judul Cover"}),s.jsx("input",{type:"text",value:i,onChange:e=>o?.(e.target.value),placeholder:"Contoh: Kenangan Kita",className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-slate-800 shadow-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300",maxLength:200})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-slate-900",children:"Halaman Flipbook"}),s.jsxs("button",{type:"button",onClick:()=>{const e={id:`page_${Date.now()}`,title:"",body:"",image:null};l([...t,e])},disabled:t.length>=10,className:"inline-flex items-center gap-2 rounded-lg bg-blue-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-600 disabled:cursor-not-allowed disabled:opacity-50",children:[s.jsx(x,{className:"h-4 w-4"}),"Tambah Halaman"]}),0===t.length&&s.jsxs("div",{className:"rounded-xl border-2 border-dashed border-slate-300 bg-white p-8 text-center",children:[s.jsx(u,{className:"mx-auto h-12 w-12 text-slate-400"}),s.jsx("p",{className:"mt-2 text-sm text-slate-600",children:'Belum ada halaman. Klik "Tambah Halaman" untuk memulai.'})]}),s.jsx("div",{className:"space-y-4",children:t.map((e,r)=>s.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsxs("h4",{className:"font-semibold text-slate-900",children:["Halaman ",r+1]}),s.jsxs("button",{type:"button",onClick:()=>(e=>{const s=t.filter((s,t)=>t!==e);l(s)})(r),className:"inline-flex items-center gap-2 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition hover:bg-red-100",children:[s.jsx(h,{className:"h-4 w-4"}),"Hapus"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Gambar"}),s.jsxs("div",{className:"mt-2",children:[e.image||e.image_file?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:e.image_file?URL.createObjectURL(e.image_file):e.image||"",alt:`Preview ${r+1}`,className:"h-48 w-full rounded-lg object-cover"}),s.jsx("label",{htmlFor:`flipbook-image-${r}`,className:"absolute inset-0 flex cursor-pointer items-center justify-center rounded-lg bg-black/50 opacity-0 transition hover:opacity-100",children:s.jsx("span",{className:"rounded-lg bg-white px-4 py-2 text-sm font-semibold text-slate-900",children:"Ganti Gambar"})})]}):s.jsxs("label",{htmlFor:`flipbook-image-${r}`,className:"flex h-48 cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-slate-300 bg-slate-50 transition hover:border-slate-400 hover:bg-slate-100",children:[s.jsx(m,{className:"h-8 w-8 text-slate-400"}),s.jsx("span",{className:"mt-2 text-sm text-slate-600",children:"Upload gambar"})]}),s.jsx("input",{id:`flipbook-image-${r}`,type:"file",accept:"image/*",className:"hidden",onChange:e=>((e,s)=>{const t=s.target.files?.[0];t&&a(e,t)})(r,e)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Judul"}),s.jsx("input",{type:"text",value:e.title,onChange:e=>v(r,"title",e.target.value),placeholder:"Contoh: Kenangan Pertama Kita",className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-slate-800 shadow-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300",maxLength:200})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Cerita"}),s.jsx("textarea",{value:e.body,onChange:e=>v(r,"body",e.target.value),placeholder:"Tulis cerita atau kenangan manis di sini...",className:"mt-1 min-h-[120px] w-full rounded-xl border border-slate-200 px-4 py-2 text-slate-800 shadow-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300",maxLength:2e3}),s.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:[e.body.length," / 2000 karakter"]})]})]})]},e.id))})]})]})]})}const v=["level_one","level_two","level_three"],j=10485760;function N({space:c,levels:d,pin:x,contentSet:h,activeLevels:N,defaultRewards:y,customRewards:w,flipbookPages:_,flipbookCoverImage:k,flipbookCoverTitle:C}){const L=t().props.flash,{translations:z}=i("memory_lane"),{t:R}=i("errors"),U=z?.config??{},S=U.heading??{},F=U.access??{},P=U.levels??{},$=U.actions??{},T=z?.meta?.config??"Memory Lane Kit",I=S.title??"Memory Lane Kit",M=S.subtitle??"Curate sweet reveals, art, and notes for your shared puzzle adventure.",O=F.title??"Access PIN",A=F.description??"Protect the Memory Lane surprise with an optional PIN.",K=F.pin_label??"Access PIN (leave empty to disable)",B=F.pin_placeholder??"Example: 1234",G=F.pin_helper??"4-10 digits or characters.",D=F.empty_notice??"Memory Lane Kit content has not been configured yet.",E=P.title??"Reveal levels",H=P.description??"Update imagery and heartfelt copy for every reveal stage.",J=P.image_helper??"Drag & drop or choose an image (max. 10 MB, JPG/PNG converted to .webp).",W=P.reset??"Use default image",V=P.change??"Change image",q=P.fields?.title??"Headline",Q=P.fields?.body??"Story snippet",X=$.save??"Save changes",Y=$.saving??"Savingâ€¦",Z=(e,s,t,l,a,r)=>({level_one_title:e[0]?.title??"",level_one_body:e[0]?.body??"",level_one_image:null,level_one_reset:!1,level_two_title:e[1]?.title??"",level_two_body:e[1]?.body??"",level_two_image:null,level_two_reset:!1,level_three_title:e[2]?.title??"",level_three_body:e[2]?.body??"",level_three_image:null,level_three_reset:!1,active_levels:t,pin:s??"",custom_rewards:l,flipbook_pages:a,flipbook_cover_image:null,flipbook_cover_title:r??""}),{data:ee,setData:se,post:te,processing:le,errors:ae}=l(Z(d,x,N,w,_,C)),[re,ie]=e.useState({level_one:d[0]?.image??d[0]?.default_image??null,level_two:d[1]?.image??d[1]?.default_image??null,level_three:d[2]?.image??d[2]?.default_image??null}),[ne,oe]=e.useState({level_one:null,level_two:null,level_three:null}),ce=R("memory_lane.kit_image_too_large","Each Memory Lane Kit image must be a maximum of 10 MB."),de=R("upload.image_not_convertible","The image could not be processed into .webp format."),me=e.useRef({}),xe=e=>{const s=v.indexOf(e);return-1===s?null:d[s]?.image??d[s]?.default_image??null};return e.useEffect(()=>()=>{Object.values(me.current).forEach(e=>{URL.revokeObjectURL(e)}),me.current={}},[]),e.useEffect(()=>{Object.values(me.current).forEach(e=>{URL.revokeObjectURL(e)}),me.current={},ie({level_one:d[0]?.image??d[0]?.default_image??null,level_two:d[1]?.image??d[1]?.default_image??null,level_three:d[2]?.image??d[2]?.default_image??null}),oe({level_one:null,level_two:null,level_three:null}),se(e=>({...e,...Z(d,x,N,w,_,C)}))},[d,x,N,w,_,C,se]),s.jsxs(n,{header:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:I}),s.jsx("p",{className:"text-sm text-slate-500",children:M})]}),s.jsxs(r,{href:route("surprise.memory.space",{space:c.slug}),className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-rose-500 to-purple-600 px-4 py-2 text-sm font-semibold text-white shadow-lg transition hover:from-rose-600 hover:to-purple-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-300 focus-visible:ring-offset-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),s.jsx("polyline",{points:"15 3 21 3 21 9"}),s.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]}),"Lihat Memory Lane"]})]}),children:[s.jsx(a,{title:`${T} - ${c.title}`}),s.jsxs("div",{className:"relative mx-auto max-w-5xl space-y-8 px-4 pb-16 sm:px-6 lg:px-8",children:[L?.success&&s.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700 shadow",children:L.success}),L?.error&&s.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700 shadow",children:L.error}),s.jsxs("form",{onSubmit:e=>{e.preventDefault(),Object.values(ne).some(Boolean)||te(route("memory-lane.update",{space:c.slug}),{forceFormData:!0,preserveScroll:!0})},className:"space-y-10 rounded-3xl border border-slate-100 bg-white/90 p-6 shadow-lg backdrop-blur",children:[s.jsxs("section",{className:"space-y-4",children:[s.jsxs("header",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:O}),s.jsx("p",{className:"text-sm text-slate-500",children:A})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"pin",className:"block text-sm font-medium text-slate-700",children:K}),s.jsx("input",{id:"pin",type:"text",value:ee.pin,onChange:e=>se("pin",e.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-slate-800 shadow-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300",placeholder:B,maxLength:10}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:G}),s.jsxs("div",{className:"mt-2 rounded-xl border border-blue-200 bg-blue-50 px-3 py-2 text-xs text-blue-700",children:[s.jsx("strong",{children:"Catatan:"})," PIN akan otomatis dinormalisasi (spasi dihapus, huruf kecil semua) untuk konsistensi. Default PIN: 00000 (lima nol)."]}),ae.pin&&s.jsx("p",{className:"mt-1 text-sm text-rose-500",children:ae.pin})]}),!h&&s.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-700 shadow",children:D})]}),s.jsxs("section",{className:"space-y-4",children:[s.jsxs("header",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Number of Puzzle Levels"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Choose how many puzzle levels users must complete (0 = skip puzzles entirely)"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"active_levels",className:"block text-sm font-medium text-slate-700",children:"Active Levels"}),s.jsxs("select",{id:"active_levels",value:ee.active_levels,onChange:e=>se("active_levels",parseInt(e.target.value)),className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-slate-800 shadow-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300",children:[s.jsx("option",{value:0,children:"0 - Skip puzzles (no levels)"}),s.jsx("option",{value:1,children:"1 - One puzzle level"}),s.jsx("option",{value:2,children:"2 - Two puzzle levels"}),s.jsx("option",{value:3,children:"3 - Three puzzle levels (default)"})]}),s.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Users will need to complete ",ee.active_levels," puzzle",1!==ee.active_levels?"s":""," before accessing the Memory Lane content."]}),ae.active_levels&&s.jsx("p",{className:"mt-1 text-sm text-rose-500",children:ae.active_levels})]})]}),s.jsxs("section",{className:"space-y-6",children:[s.jsxs("header",{className:"space-y-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:E}),s.jsx("p",{className:"text-sm text-slate-500",children:H})]}),0===ee.active_levels&&s.jsx("div",{className:"rounded-2xl border border-blue-200 bg-blue-50 px-4 py-3 text-sm text-blue-700 shadow",children:"Puzzles are disabled. Users will skip directly to Memory Lane content."}),d.slice(0,ee.active_levels).map((e,t)=>{const l=e.key,a=`${l}_image`,r=`${l}_title`,i=`${l}_body`,n=re[l];return s.jsxs("section",{className:"space-y-4 rounded-3xl border border-slate-100 bg-white/95 p-6 shadow-sm",children:[s.jsxs("header",{className:"space-y-1",children:[s.jsxs("span",{className:"text-xs uppercase tracking-[0.28em] text-slate-400",children:["Level ",t+1]}),s.jsx("h4",{className:"text-xl font-semibold text-slate-900",children:e.label})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-[minmax(0,320px)_minmax(0,1fr)]",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"relative overflow-hidden rounded-3xl border border-slate-200 bg-slate-50",children:n?s.jsx("img",{src:n,alt:`preview-level-${t+1}`,className:"h-56 w-full object-cover"}):s.jsxs("div",{className:"flex h-56 flex-col items-center justify-center gap-2 text-sm text-slate-400",children:[s.jsx(u,{className:"h-8 w-8"}),s.jsx("span",{children:P.empty_image??"No image"})]})}),s.jsx("p",{className:"text-xs text-slate-500",children:J}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("label",{htmlFor:`${a}-input`,className:"inline-flex items-center gap-2 rounded-xl bg-slate-900 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-slate-700",children:[s.jsx(m,{className:"h-4 w-4"}),V,s.jsx("input",{id:`${a}-input`,type:"file",accept:"image/*",className:"hidden",onChange:e=>{(async(e,s)=>{const t=e.target.files?.[0]??null,l=`${s}_image`,a=`${s}_reset`;if(me.current[s]&&(URL.revokeObjectURL(me.current[s]),delete me.current[s]),!t)return se(l,null),se(a,!1),ie(e=>({...e,[s]:xe(s)})),void oe(e=>({...e,[s]:null}));if(t.size>j)return oe(e=>({...e,[s]:ce})),void se(l,null);try{const e=await o(t);if(e.size>j)return oe(e=>({...e,[s]:ce})),void se(l,null);se(l,e),se(a,!1);const r=URL.createObjectURL(e);me.current[s]=r,ie(e=>({...e,[s]:r})),oe(e=>({...e,[s]:null}))}catch(r){oe(e=>({...e,[s]:de})),se(l,null)}})(e,l)}})]}),(e.image||e.default_image)&&s.jsxs("button",{type:"button",onClick:()=>((e,s)=>{const t=`${e}_reset`;se(`${e}_image`,null),se(t,!0),me.current[e]&&(URL.revokeObjectURL(me.current[e]),delete me.current[e]),ie(t=>({...t,[e]:s??null})),oe(s=>({...s,[e]:null}))})(l,e.default_image),className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-100",children:[s.jsx(p,{className:"h-4 w-4"}),W]})]}),ne[l]&&s.jsx("p",{className:"text-sm text-rose-600",children:ne[l]}),ae[a]&&s.jsx("p",{className:"text-sm text-rose-600",children:ae[a]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:q}),s.jsx("input",{type:"text",value:ee[r],onChange:e=>se(r,e.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-slate-800 shadow-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300"}),ae[r]&&s.jsx("p",{className:"mt-1 text-sm text-rose-500",children:ae[r]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:Q}),s.jsx("textarea",{value:ee[i],onChange:e=>se(i,e.target.value),className:"mt-1 min-h-[120px] w-full rounded-xl border border-slate-200 px-4 py-2 text-slate-800 shadow-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300"}),ae[i]&&s.jsx("p",{className:"mt-1 text-sm text-rose-500",children:ae[i]})]})]})]})]},e.key)})]}),s.jsx(g,{defaultRewards:y,customRewards:ee.custom_rewards,onChange:e=>se("custom_rewards",e)}),s.jsx(f,{pages:ee.flipbook_pages,onChange:e=>se("flipbook_pages",e),onImageChange:(e,s)=>{const t=[...ee.flipbook_pages];t[e]&&(t[e]={...t[e],image_file:s},se("flipbook_pages",t))},coverImage:k,coverTitle:ee.flipbook_cover_title,onCoverImageChange:e=>se("flipbook_cover_image",e),onCoverTitleChange:e=>se("flipbook_cover_title",e)}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs(r,{href:route("surprise.memory.space",{space:c.slug}),className:"inline-flex items-center gap-2 rounded-full border-2 border-slate-300 bg-white px-6 py-3 text-sm font-semibold text-slate-700 transition hover:border-slate-400 hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-300 focus-visible:ring-offset-2",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Preview Memory Lane"]}),s.jsxs("button",{type:"submit",disabled:le||Object.values(ne).some(Boolean),className:"inline-flex items-center justify-center gap-2 rounded-full bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-700 disabled:cursor-not-allowed disabled:opacity-70",children:[le&&s.jsx(b,{className:"h-4 w-4 animate-spin"}),le?Y:X]})]})]})]})]})}export{N as default};
