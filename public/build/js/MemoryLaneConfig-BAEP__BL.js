import{r as e,j as t}from"./vendor-DXr22Lef.js";import{u as s,b as a}from"./games-RZpJ1ixc.js";import{X as l,G as n,S as r,x as i}from"./inertia-2axaVlnj.js";import{c as o}from"./imageConverter-BDj124y7.js";import{a7 as c,N as d,P as x,X as m,d as h,j as u,a8 as p,a9 as g,aa as b,S as f,H as v,ab as j,U as N,ac as w,ad as y,L as k}from"./ui-libs-D5k9l7B7.js";import"./animation-H0tefZHq.js";function _({defaultRewards:s,customRewards:a,onChange:l}){const[n,r]=e.useState(!1),[i,o]=e.useState(!1),[u,p]=e.useState({icon:"ðŸŽ",title:"",description:""}),g=s.map(e=>{const t=a.find(t=>String(t.id)===String(e.id));return{...e,enabled:t?.enabled??!0}}),b=a.filter(e=>!s.some(t=>String(t.id)===String(e.id))&&e.title),f=[...g,...b],v=f.filter(e=>e.enabled).length,j=e=>{const t=[...s.map(t=>({id:t.id,enabled:e})),...b.map(t=>({...t,enabled:e}))];l(t)},N={custom:b,emotional:g.filter(e=>"emotional"===e.category),action:g.filter(e=>"action"===e.category),privilege:g.filter(e=>"privilege"===e.category)};return t.jsxs("section",{className:"space-y-4",children:[t.jsxs("header",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Level 1: Lucky Box Rewards"}),t.jsx("button",{type:"button",onClick:()=>r(!n),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-50",children:n?t.jsxs(t.Fragment,{children:[t.jsx(c,{className:"h-4 w-4"}),"Tutup"]}):t.jsxs(t.Fragment,{children:[t.jsx(d,{className:"h-4 w-4"}),"Customize"]})})]}),t.jsx("p",{className:"text-sm text-slate-500",children:"Setelah puzzle level 1, user akan memilih 2 dari 5 kotak hadiah. Aktifkan/nonaktifkan hadiah yang ingin ditampilkan atau tambahkan hadiah manual."}),t.jsxs("div",{className:"inline-flex items-center gap-2 rounded-lg bg-blue-50 px-3 py-2 text-sm text-blue-700",children:[t.jsx("strong",{children:v})," dari ",f.length," hadiah aktif"]})]}),n&&t.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-slate-50 p-6",children:[t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs("button",{type:"button",onClick:()=>o(!0),className:"inline-flex items-center gap-2 rounded-lg bg-rose-500 px-4 py-2 text-sm font-medium text-white transition hover:bg-rose-600",children:[t.jsx(x,{className:"h-4 w-4"}),"Tambah Manual"]}),t.jsx("div",{className:"flex-1"}),t.jsx("button",{type:"button",onClick:()=>j(!0),className:"rounded-lg bg-emerald-500 px-4 py-2 text-sm font-medium text-white transition hover:bg-emerald-600",children:"Aktifkan Semua"}),t.jsx("button",{type:"button",onClick:()=>j(!1),className:"rounded-lg bg-slate-500 px-4 py-2 text-sm font-medium text-white transition hover:bg-slate-600",children:"Nonaktifkan Semua"})]}),i&&t.jsxs("div",{className:"rounded-xl border border-rose-200 bg-rose-50 p-4",children:[t.jsx("h4",{className:"mb-3 font-semibold text-rose-900",children:"Tambah Hadiah Baru"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-[auto_1fr_1fr_auto]",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-rose-800",children:"Icon"}),t.jsx("input",{type:"text",value:u.icon,onChange:e=>p({...u,icon:e.target.value}),className:"mt-1 w-16 rounded-lg border-rose-200 text-center text-xl",maxLength:4})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-rose-800",children:"Judul"}),t.jsx("input",{type:"text",value:u.title,onChange:e=>p({...u,title:e.target.value}),className:"mt-1 w-full rounded-lg border-rose-200 px-3 py-2 text-sm",placeholder:"Contoh: Pijat Gratis"})]}),t.jsxs("div",{className:"md:col-span-2 lg:col-span-1",children:[t.jsx("label",{className:"block text-xs font-medium text-rose-800",children:"Deskripsi"}),t.jsx("input",{type:"text",value:u.description,onChange:e=>p({...u,description:e.target.value}),className:"mt-1 w-full rounded-lg border-rose-200 px-3 py-2 text-sm",placeholder:"Kupon pijat punggung 30 menit"})]}),t.jsxs("div",{className:"flex items-end gap-2",children:[t.jsx("button",{type:"button",onClick:()=>{if(!u.title||!u.description)return;const e={id:`custom_${Date.now()}`,icon:u.icon||"ðŸŽ",title:u.title,description:u.description,enabled:!0,category:"custom"};l([...a,e]),p({icon:"ðŸŽ",title:"",description:""}),o(!1)},className:"rounded-lg bg-rose-600 px-4 py-2 text-sm font-medium text-white hover:bg-rose-700",children:"Simpan"}),t.jsx("button",{type:"button",onClick:()=>o(!1),className:"rounded-lg border border-rose-200 bg-white px-3 py-2 text-rose-700 hover:bg-rose-50",children:t.jsx(m,{className:"h-5 w-5"})})]})]})]}),Object.entries(N).map(([e,n])=>0===n.length?null:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("h4",{className:"text-sm font-semibold uppercase tracking-wider text-slate-600",children:["custom"===e&&"âœ¨ Custom Rewards","emotional"===e&&"ðŸ’ Emotional & Relationship","action"===e&&"ðŸŽ¯ Action & Challenge","privilege"===e&&"ðŸ‘‘ Privilege & Fun Rules"]}),t.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:n.map(n=>t.jsxs("div",{className:"relative group",children:[t.jsxs("label",{className:"flex h-full cursor-pointer items-start gap-3 rounded-xl border-2 p-4 transition "+(n.enabled?"border-emerald-300 bg-white":"border-slate-200 bg-slate-100 opacity-60"),children:[t.jsx("input",{type:"checkbox",checked:n.enabled,onChange:()=>(e=>{if(s.some(t=>String(t.id)===String(e))){let t;t=a.find(t=>String(t.id)===String(e))?a.map(t=>String(t.id)===String(e)?{...t,enabled:!t.enabled}:t):[...a,{id:e,enabled:!1}],l(t)}else{const t=a.map(t=>String(t.id)===String(e)?{...t,enabled:!t.enabled}:t);l(t)}})(n.id),className:"mt-1 h-5 w-5 rounded border-slate-300 text-emerald-600 focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2"}),t.jsxs("div",{className:"flex-1 space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl",children:n.icon}),t.jsx("h5",{className:"font-semibold text-slate-900 line-clamp-1",title:n.title,children:n.title})]}),t.jsx("p",{className:"text-xs text-slate-600 line-clamp-2",title:n.description,children:n.description})]})]}),"custom"===e&&t.jsx("button",{type:"button",onClick:()=>{return e=n.id,void l(a.filter(t=>String(t.id)!==String(e)));var e},className:"absolute -right-2 -top-2 hidden rounded-full bg-rose-100 p-1.5 text-rose-600 shadow-sm transition hover:bg-rose-200 group-hover:block",title:"Hapus",children:t.jsx(h,{className:"h-3.5 w-3.5"})})]},n.id))})]},e))]})]})}const C=[{name:"Serif",value:"serif"},{name:"Sans-Serif",value:"sans-serif"},{name:"Cursive",value:"cursive"},{name:"Inter",value:"'Inter', sans-serif"},{name:"Playfair",value:"'Playfair Display', serif"},{name:"Dancing Script",value:"'Dancing Script', cursive"},{name:"Pacifico",value:"'Pacifico', cursive"}],S=["â¤ï¸","âœ¨","ðŸŒŸ","ðŸŒ¸","ðŸŒ¹","ðŸ§¸","ðŸ’Œ","ðŸ¦‹","ðŸ¥‚","ðŸŽ‚","ðŸ“¸","ðŸŒˆ","ðŸŽˆ","ðŸ’","ðŸ«‚"];function z({page:s,onClose:a,onSave:l}){const[n,r]=e.useState(s.canvas_elements||[]),[i,o]=e.useState(null),[c,d]=e.useState(s.bg_color||"#fff5f5"),x=e.useRef(null),[N,w]=e.useState(!1),[y,k]=e.useState({x:0,y:0});e.useEffect(()=>{const e=document.createElement("link");return e.href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Pacifico&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@400;700&display=swap",e.rel="stylesheet",document.head.appendChild(e),()=>{}},[]);const _=n.find(e=>e.id===i),z=(e,t={})=>{const s={id:`el_${Date.now()}`,type:e,x:50,y:50,width:"image"===e?40:void 0,rotate:0,zIndex:n.length+1,content:"text"===e?"Tulis sesuatu...":"sticker"===e?"âœ¨":void 0,fontSize:"text"===e?24:40,color:"text"===e?"#333":void 0,fontFamily:"text"===e?"serif":void 0,...t};r([...n,s]),o(s.id)},L=(e,t)=>{r(n.map(s=>s.id===e?{...s,...t}:s))},R=(e,t)=>{const s=n.findIndex(t=>t.id===e);if(-1===s)return;const a=[...n];"up"===t&&s<n.length-1?[a[s],a[s+1]]=[a[s+1],a[s]]:"down"===t&&s>0&&([a[s],a[s-1]]=[a[s-1],a[s]]),r(a.map((e,t)=>({...e,zIndex:t+1})))},[I,P]=e.useState("design");return e.useEffect(()=>{i&&P("edit")},[i]),t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 animate-fade-in",children:t.jsxs("div",{className:"relative w-full max-w-5xl h-[580px] flex flex-col bg-slate-900 shadow-[0_0_50px_rgba(0,0,0,0.5)] rounded-2xl border border-white/10 overflow-hidden",children:[t.jsxs("header",{className:"flex items-center justify-between border-b border-white/10 bg-slate-900/80 px-6 py-2 shrink-0",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:a,className:"p-1.5 rounded-full hover:bg-white/10 text-white/70 transition",children:t.jsx(m,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xs font-bold text-white uppercase tracking-wider",children:"Editor Kanvas"}),t.jsx("p",{className:"text-[10px] text-white/40",children:"Desain bebas halaman Anda"})]})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsx("button",{onClick:()=>{l({...s,type:"canvas",canvas_elements:n,bg_color:c}),a()},className:"rounded-full bg-rose-500 px-5 py-1.5 text-[11px] font-bold text-white transition hover:bg-rose-600 shadow-lg",children:"Simpan Perubahan"})})]}),t.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[t.jsxs("aside",{className:"w-72 border-r border-white/10 bg-slate-900 flex flex-col",children:[t.jsxs("div",{className:"flex border-b border-white/5 p-1 bg-slate-950",children:[t.jsx("button",{onClick:()=>P("design"),className:"flex-1 py-2 text-[10px] font-bold uppercase tracking-wider rounded-lg transition "+("design"===I?"bg-white/10 text-rose-400":"text-white/40 hover:text-white/60"),children:"Design"}),t.jsx("button",{onClick:()=>P("edit"),className:`flex-1 py-2 text-[10px] font-bold uppercase tracking-wider rounded-lg transition ${"edit"===I?"bg-white/10 text-rose-400":"text-white/40 hover:text-white/60"} ${i?"":"opacity-30 cursor-not-allowed"}`,disabled:!i,children:"Settings"})]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-5 space-y-6",children:"design"===I?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-widest text-white/30",children:"Tambah Elemen"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("label",{className:"flex cursor-pointer flex-col items-center justify-center gap-2 rounded-xl border border-white/5 bg-white/[0.02] p-3 transition hover:bg-white/[0.05] group",children:[t.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10 text-blue-400 group-hover:scale-110 transition",children:t.jsx(u,{className:"h-5 w-5"})}),t.jsx("span",{className:"text-[10px] font-medium text-white/70",children:"Foto"}),t.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{const t=e.target.files?.[0];if(t){const e=URL.createObjectURL(t);z("image",{image_url:e,image_file:t})}}})]}),t.jsxs("button",{onClick:()=>z("text"),className:"flex flex-col items-center justify-center gap-2 rounded-xl border border-white/5 bg-white/[0.02] p-3 transition hover:bg-white/[0.05] group",children:[t.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/10 text-emerald-400 group-hover:scale-110 transition",children:t.jsx(p,{className:"h-5 w-5"})}),t.jsx("span",{className:"text-[10px] font-medium text-white/70",children:"Tulisan"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-widest text-white/30",children:"Stiker & Emoji"}),t.jsx("div",{className:"grid grid-cols-5 gap-1.5",children:S.map(e=>t.jsx("button",{onClick:()=>z("sticker",{content:e}),className:"flex h-9 items-center justify-center rounded-lg bg-white/5 text-lg transition hover:bg-white/10 hover:scale-110",children:e},e))})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-widest text-white/30",children:"Latar Halaman"}),t.jsx("div",{className:"flex flex-wrap gap-1.5",children:["#fff5f5","#f0f2f5","#fdf4ff","#f0fdf4","#fffbeb","#fafafa","#18181b"].map(e=>t.jsx("button",{onClick:()=>d(e),className:"h-7 w-7 rounded-full border-2 transition "+(c===e?"border-rose-500 scale-110":"border-white/10 hover:border-white/30"),style:{backgroundColor:e}},e))})]})]}):_?t.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-white/5",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500"}),t.jsxs("span",{className:"text-[10px] font-bold uppercase text-white/70",children:["Edit ",_.type]})]}),t.jsx("button",{onClick:()=>{return e=i,r(n.filter(t=>t.id!==e)),void o(null);var e},className:"p-1.5 rounded-lg hover:bg-rose-500/10 text-rose-400 transition",children:t.jsx(h,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center justify-between text-[10px] font-bold text-white/40 uppercase tracking-tighter",children:[t.jsx("span",{children:"Putar"}),t.jsxs("span",{className:"text-rose-400 font-mono",children:[_.rotate,"Â°"]})]}),t.jsx("input",{type:"range",min:"-180",max:"180",value:_.rotate,onChange:e=>L(i,{rotate:parseInt(e.target.value)}),className:"w-full accent-rose-500 h-1.5 bg-white/5 rounded-lg appearance-none cursor-pointer"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center justify-between text-[10px] font-bold text-white/40 uppercase tracking-tighter",children:[t.jsx("span",{children:"Ukuran"}),t.jsxs("span",{className:"text-rose-400 font-mono",children:[_.width||_.fontSize,"%"]})]}),t.jsx("input",{type:"range",min:"10",max:"100",value:"text"===_.type?_.fontSize:_.width,onChange:e=>{const t=parseInt(e.target.value);L(i,"text"===_.type?{fontSize:t}:{width:t})},className:"w-full accent-rose-500 h-1.5 bg-white/5 rounded-lg appearance-none cursor-pointer"})]})]}),"text"===_.type&&t.jsxs("div",{className:"space-y-4 border-t border-white/5 pt-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-tighter",children:"Isi Teks"}),t.jsx("textarea",{value:_.content,onChange:e=>L(i,{content:e.target.value}),className:"w-full rounded-xl bg-white/5 border border-white/10 p-3 text-xs text-white focus:border-rose-500/50 focus:ring-0 transition",rows:3})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-tighter",children:"Font Style"}),t.jsx("select",{value:_.fontFamily,onChange:e=>L(i,{fontFamily:e.target.value}),className:"w-full rounded-xl bg-white/5 border border-white/10 p-2.5 text-xs text-white cursor-pointer",children:C.map(e=>t.jsx("option",{value:e.value,className:"bg-slate-900",children:e.name},e.value))})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-tighter",children:"Warna"}),t.jsx("div",{className:"flex gap-2",children:t.jsx("input",{type:"color",value:_.color,onChange:e=>L(i,{color:e.target.value}),className:"h-10 w-full rounded-xl bg-white/5 border border-white/10 cursor-pointer overflow-hidden p-0"})})]})]}),t.jsxs("div",{className:"space-y-3 pt-4 border-t border-white/5",children:[t.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-tighter",children:"Urutan Layer"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>R(i,"down"),className:"flex-1 flex flex-col items-center gap-1 rounded-xl bg-white/5 p-2.5 transition hover:bg-white/10 text-white/70",children:[t.jsx(g,{className:"h-4 w-4 rotate-180"}),t.jsx("span",{className:"text-[8px] uppercase",children:"Ke Belakang"})]}),t.jsxs("button",{onClick:()=>R(i,"up"),className:"flex-1 flex flex-col items-center gap-1 rounded-xl bg-white/5 p-2.5 transition hover:bg-white/10 text-white/70",children:[t.jsx(g,{className:"h-4 w-4"}),t.jsx("span",{className:"text-[8px] uppercase",children:"Ke Depan"})]})]})]})]}):t.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6 opacity-20",children:[t.jsx(b,{className:"h-12 w-12 mb-2"}),t.jsx("p",{className:"text-xs",children:"Pilih elemen di kanvas untuk mengaturnya"})]})})]}),t.jsx("main",{className:"flex-1 bg-slate-950 flex items-center justify-center p-4 overflow-auto custom-scrollbar",onClick:e=>{e.target===x.current&&o(null)},children:t.jsxs("div",{ref:x,className:"relative shadow-2xl transition-all duration-300 transform scale-[0.8]",style:{width:"500px",height:"600px",backgroundColor:c,borderRadius:"4px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},children:[t.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-[0.03]",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #000 1px, transparent 0)",backgroundSize:"16px 16px"}}),t.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-20",style:{backgroundImage:"\n                                    repeating-linear-gradient(\n                                        transparent,\n                                        transparent 29px,\n                                        rgba(0,0,0,0.1) 29px,\n                                        rgba(0,0,0,0.1) 30px\n                                    ),\n                                    linear-gradient(\n                                        to right,\n                                        transparent 0,\n                                        transparent 40px,\n                                        rgba(255, 182, 193, 0.3) 40px,\n                                        rgba(255, 182, 193, 0.3) 42px,\n                                        transparent 42px\n                                    )\n                                ",backgroundSize:"100% 30px, 100% 100%"}}),t.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[{icon:f,color:"#f43f5e",size:28,top:"10%",left:"8%",rotation:-15,delay:"0s"},{icon:v,color:"#ec4899",size:24,top:"15%",right:"10%",rotation:20,delay:"1.5s"},{icon:f,color:"#8b5cf6",size:20,bottom:"20%",left:"12%",rotation:10,delay:"0.7s"},{icon:v,color:"#f43f5e",size:26,bottom:"15%",right:"8%",rotation:-10,delay:"2.2s"}].map((e,s)=>{const a=e.icon;return t.jsx("div",{className:"absolute opacity-20 animate-float",style:{top:e.top,bottom:e.bottom,left:e.left,right:e.right,transform:`rotate(${e.rotation}deg)`,animationDelay:e.delay},children:t.jsx(a,{size:e.size,fill:e.color,strokeWidth:1})},s)})}),t.jsx("div",{className:"absolute inset-y-0 left-0 w-1 bg-black/5"}),n.map(e=>t.jsxs("div",{onClick:t=>{t.stopPropagation(),o(e.id)},onMouseDown:t=>{if(i===e.id){w(!0);const s=x.current?.getBoundingClientRect();s&&k({x:(t.clientX-s.left)/s.width*100-e.x,y:(t.clientY-s.top)/s.height*100-e.y})}},onMouseMove:t=>{if(N&&i===e.id){const s=x.current?.getBoundingClientRect();if(s){const a=(t.clientX-s.left)/s.width*100-y.x,l=(t.clientY-s.top)/s.height*100-y.y;L(e.id,{x:Math.max(0,Math.min(100,a)),y:Math.max(0,Math.min(100,l))})}}},onMouseUp:()=>w(!1),onMouseLeave:()=>w(!1),className:"absolute cursor-move select-none transition-[box-shadow] "+(i===e.id?"ring-2 ring-rose-500 ring-offset-2":"hover:ring-1 hover:ring-rose-300"),style:{left:`${e.x}%`,top:`${e.y}%`,width:e.width?`${e.width}%`:"auto",transform:`translate(-50%, -50%) rotate(${e.rotate}deg)`,zIndex:e.zIndex},children:["image"===e.type&&t.jsx("img",{src:e.image_url,alt:"Uploaded",className:"w-full h-auto block rounded-sm shadow-md",draggable:!1}),"text"===e.type&&t.jsx("div",{className:"whitespace-pre-wrap break-words px-2 leading-relaxed",style:{fontFamily:e.fontFamily,fontSize:`${e.fontSize}px`,color:e.color},children:e.content}),"sticker"===e.type&&t.jsx("div",{style:{fontSize:`${e.fontSize}px`},children:e.content})]},e.id)),0===n.length&&t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-400 p-12 text-center",children:[t.jsx(j,{className:"h-12 w-12 mb-4 opacity-20"}),t.jsx("p",{className:"text-sm",children:"Mulai kreasikan halaman ini!"}),t.jsx("p",{className:"text-xs mt-2 opacity-60",children:"Klik ikon di kiri untuk menambah foto, teks, atau stiker."})]})]})})]}),t.jsx("style",{children:"\n                @keyframes float {\n                    0%, 100% { transform: translateY(0px) rotate(var(--tw-rotate, 0deg)); }\n                    50% { transform: translateY(-10px) rotate(var(--tw-rotate, 0deg)); }\n                }\n                .animate-float {\n                    animation: float 3s ease-in-out infinite;\n                }\n            "})]})})}function L({pages:s,onChange:a,onImageChange:l,coverImage:n,coverTitle:r="",onCoverImageChange:i,onCoverTitleChange:o}){const[m,p]=e.useState(!1),[g,b]=e.useState(n||null),[f,v]=e.useState(null),y=(e,t,l)=>{const n=s.map((s,a)=>a===e?{...s,[t]:l}:s);a(n)};return t.jsxs("section",{className:"space-y-4",children:[t.jsxs("header",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Level 2: Flipbook/Scrapbook"}),t.jsx("button",{type:"button",onClick:()=>p(!m),className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-50",children:m?t.jsxs(t.Fragment,{children:[t.jsx(c,{className:"h-4 w-4"}),"Tutup"]}):t.jsxs(t.Fragment,{children:[t.jsx(d,{className:"h-4 w-4"}),"Customize"]})})]}),t.jsx("p",{className:"text-sm text-slate-500",children:"Setelah puzzle level 2, user akan melihat flipbook dengan halaman-halaman kenangan. Tambahkan hingga 10 halaman."}),t.jsxs("div",{className:"inline-flex items-center justify-2 rounded-lg bg-blue-50 px-3 py-2 text-sm text-blue-700 gap-2",children:[t.jsx("strong",{children:s.length})," halaman aktif"]})]}),m&&t.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-200 bg-slate-50 p-6",children:[t.jsxs("div",{className:"space-y-4 rounded-xl border border-slate-200 bg-white p-6",children:[t.jsx("h4",{className:"font-semibold text-slate-900",children:"Cover Flipbook"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Atur gambar dan judul cover untuk flipbook Anda."}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Gambar Cover"}),g?t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:g,alt:"Cover Preview",className:"h-48 w-full rounded-lg object-cover"}),t.jsx("label",{htmlFor:"flipbook-cover-image",className:"absolute inset-0 flex cursor-pointer items-center justify-center rounded-lg bg-black/50 opacity-0 transition hover:opacity-100",children:t.jsx("span",{className:"rounded-lg bg-white px-4 py-2 text-sm font-semibold text-slate-900",children:"Ganti Gambar Cover"})})]}):t.jsxs("label",{htmlFor:"flipbook-cover-image",className:"flex h-48 cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-slate-300 bg-slate-50 transition hover:border-slate-400 hover:bg-slate-100",children:[t.jsx(N,{className:"h-8 w-8 text-slate-400"}),t.jsx("span",{className:"mt-2 text-sm text-slate-600",children:"Upload gambar cover"})]}),t.jsx("input",{id:"flipbook-cover-image",type:"file",accept:"image/*",className:"hidden",onChange:e=>{const t=e.target.files?.[0];if(t&&i){i(t);const e=new FileReader;e.onloadend=()=>{b(e.result)},e.readAsDataURL(t)}}})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Judul Cover"}),t.jsx("input",{type:"text",value:r,onChange:e=>o?.(e.target.value),placeholder:"Contoh: Kenangan Kita",className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-slate-800 shadow-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300",maxLength:200})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-semibold text-slate-900",children:"Halaman Flipbook"}),t.jsxs("button",{type:"button",onClick:()=>{const e={id:`page_${Date.now()}`,title:"",body:"",label:"",types:[],image:null,type:"standard",canvas_elements:[],bg_color:"#fff5f5"};a([...s,e])},disabled:s.length>=10,className:"inline-flex items-center gap-2 rounded-lg bg-blue-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-600 disabled:cursor-not-allowed disabled:opacity-50",children:[t.jsx(x,{className:"h-4 w-4"}),"Tambah Halaman"]}),0===s.length&&t.jsxs("div",{className:"rounded-xl border-2 border-dashed border-slate-300 bg-white p-8 text-center",children:[t.jsx(u,{className:"mx-auto h-12 w-12 text-slate-400"}),t.jsx("p",{className:"mt-2 text-sm text-slate-600",children:'Belum ada halaman. Klik "Tambah Halaman" untuk memulai.'})]}),t.jsx("div",{className:"space-y-4",children:s.map((e,n)=>t.jsxs("div",{className:"relative rounded-xl border border-slate-200 bg-white p-6 shadow-sm overflow-hidden",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("h4",{className:"font-semibold text-slate-900",children:["Halaman ",n+1]}),t.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1 text-[10px] font-bold uppercase tracking-tight",children:[t.jsx("button",{onClick:()=>y(n,"type","standard"),className:"px-2 py-1 rounded "+("canvas"!==e.type?"bg-white shadow-sm text-blue-600":"text-slate-500"),children:"Standard"}),t.jsx("button",{onClick:()=>y(n,"type","canvas"),className:"px-2 py-1 rounded "+("canvas"===e.type?"bg-white shadow-sm text-rose-600":"text-slate-500"),children:"Canvas (Bebas)"})]})]}),t.jsxs("button",{type:"button",onClick:()=>(e=>{const t=s.filter((t,s)=>s!==e);a(t)})(n),className:"inline-flex items-center gap-2 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition hover:bg-red-100",children:[t.jsx(h,{className:"h-4 w-4"}),"Hapus"]})]}),"canvas"===e.type?t.jsxs("div",{className:"space-y-4 border-2 border-dashed border-rose-100 rounded-2xl p-6 bg-rose-50/30",children:[t.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-4",children:[t.jsx("div",{className:"p-3 bg-white rounded-full shadow-sm mb-3",children:t.jsx(j,{className:"h-8 w-8 text-rose-500"})}),t.jsx("h5",{className:"font-bold text-slate-800 text-sm",children:"Mode Kanvas Kreatif Aktif"}),t.jsx("p",{className:"text-xs text-slate-500 max-w-xs mt-1",children:"Gunakan editor kanvas untuk menaruh banyak foto, tulisan, dan stiker secara bebas."}),t.jsxs("button",{type:"button",onClick:()=>v(n),className:"mt-4 inline-flex items-center gap-2 rounded-full bg-rose-500 px-6 py-2.5 text-sm font-bold text-white shadow-md transition hover:bg-rose-600",children:[t.jsx(w,{className:"h-4 w-4"}),"Buka Editor Kanvas"]})]}),t.jsxs("div",{className:"flex items-center justify-between text-[10px] font-medium text-slate-400 px-2",children:[t.jsxs("span",{children:[e.canvas_elements?.length||0," Elemen terpasang"]}),t.jsx("span",{className:"uppercase tracking-widest",children:e.bg_color})]})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Gambar"}),t.jsxs("div",{className:"mt-2",children:[e.image||e.image_file?t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:e.image_file?URL.createObjectURL(e.image_file):e.image||"",alt:`Preview ${n+1}`,className:"h-48 w-full rounded-lg object-cover"}),t.jsx("label",{htmlFor:`flipbook-image-${n}`,className:"absolute inset-0 flex cursor-pointer items-center justify-center rounded-lg bg-black/50 opacity-0 transition hover:opacity-100",children:t.jsx("span",{className:"rounded-lg bg-white px-4 py-2 text-sm font-semibold text-slate-900",children:"Ganti Gambar"})})]}):t.jsxs("label",{htmlFor:`flipbook-image-${n}`,className:"flex h-48 cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-slate-300 bg-slate-50 transition hover:border-slate-400 hover:bg-slate-100",children:[t.jsx(N,{className:"h-8 w-8 text-slate-400"}),t.jsx("span",{className:"mt-2 text-sm text-slate-600",children:"Upload gambar"})]}),t.jsx("input",{id:`flipbook-image-${n}`,type:"file",accept:"image/*",className:"hidden",onChange:e=>((e,t)=>{const s=t.target.files?.[0];s&&l(e,s)})(n,e)})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Judul"}),t.jsx("input",{type:"text",value:e.title,onChange:e=>y(n,"title",e.target.value),placeholder:"Contoh: Kenangan Kita",className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-slate-800 shadow-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300",maxLength:200})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Label / ID"}),t.jsx("input",{type:"text",value:e.label||"",onChange:e=>y(n,"label",e.target.value),placeholder:"Contoh: #MEMORI-01",className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-slate-800 shadow-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300",maxLength:50})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Tipe / Tag (Pisahkan dengan koma)"}),t.jsx("input",{type:"text",value:e.types?.join(", ")||"",onChange:e=>y(n,"types",e.target.value.split(",").map(e=>e.trim()).filter(e=>""!==e)),placeholder:"Contoh: Anniversary, Dinner, Valentine",className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-slate-800 shadow-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Cerita"}),t.jsx("textarea",{value:e.body,onChange:e=>y(n,"body",e.target.value),placeholder:"Tulis cerita atau kenangan manis di sini...",className:"mt-1 min-h-[120px] w-full rounded-xl border border-slate-200 px-4 py-2 text-slate-800 shadow-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300",maxLength:2e3}),t.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:[e.body.length," / 2000 karakter"]})]})]})]},e.id))})]})]}),null!==f&&t.jsx(z,{page:s[f],onClose:()=>v(null),onSave:e=>{const t=[...s];null!==f&&(t[f]=e,a(t))}})]})}const R=["level_one","level_two","level_three"],I=10485760;function P({space:c,levels:d,pin:x,contentSet:m,activeLevels:h,defaultRewards:p,customRewards:g,flipbookPages:b,flipbookCoverImage:f,flipbookCoverTitle:v}){const j=l().props.flash,{translations:w}=s("memory_lane"),{t:C}=s("errors"),S=w?.config??{},z=S.heading??{},P=S.access??{},$=S.levels??{},M=S.actions??{},U=w?.meta?.config??"Memory Lane Kit",F=z.title??"Memory Lane Kit",D=z.subtitle??"Curate sweet reveals, art, and notes for your shared puzzle adventure.",T=P.title??"Access PIN",E=P.description??"Protect the Memory Lane surprise with an optional PIN.",K=P.pin_label??"Access PIN (leave empty to disable)",O=P.pin_placeholder??"Example: 1234",B=P.pin_helper??"4-10 digits or characters.",A=P.empty_notice??"Memory Lane Kit content has not been configured yet.",H=$.title??"Reveal levels",G=$.description??"Update imagery and heartfelt copy for every reveal stage.",J=$.image_helper??"Drag & drop or choose an image (max. 10 MB, JPG/PNG converted to .webp).",W=$.reset??"Use default image",Y=$.change??"Change image",X=$.fields?.title??"Headline",V=$.fields?.body??"Story snippet",q=M.save??"Save changes",Q=M.saving??"Savingâ€¦",Z=(e,t,s,a,l,n)=>({level_one_title:e[0]?.title??"",level_one_body:e[0]?.body??"",level_one_image:null,level_one_reset:!1,level_two_title:e[1]?.title??"",level_two_body:e[1]?.body??"",level_two_image:null,level_two_reset:!1,level_three_title:e[2]?.title??"",level_three_body:e[2]?.body??"",level_three_image:null,level_three_reset:!1,active_levels:s,pin:t??"",custom_rewards:a,flipbook_pages:l,flipbook_cover_image:null,flipbook_cover_title:n??""}),{data:ee,setData:te,post:se,processing:ae,errors:le}=n(Z(d,x,h,g,b,v)),[ne,re]=e.useState({level_one:d[0]?.image??d[0]?.default_image??null,level_two:d[1]?.image??d[1]?.default_image??null,level_three:d[2]?.image??d[2]?.default_image??null}),[ie,oe]=e.useState({level_one:null,level_two:null,level_three:null}),ce=C("memory_lane.kit_image_too_large","Each Memory Lane Kit image must be a maximum of 10 MB."),de=C("upload.image_not_convertible","The image could not be processed into .webp format."),xe=e.useRef({}),me=e=>{const t=R.indexOf(e);return-1===t?null:d[t]?.image??d[t]?.default_image??null};return e.useEffect(()=>()=>{Object.values(xe.current).forEach(e=>{URL.revokeObjectURL(e)}),xe.current={}},[]),e.useEffect(()=>{Object.values(xe.current).forEach(e=>{URL.revokeObjectURL(e)}),xe.current={},re({level_one:d[0]?.image??d[0]?.default_image??null,level_two:d[1]?.image??d[1]?.default_image??null,level_three:d[2]?.image??d[2]?.default_image??null}),oe({level_one:null,level_two:null,level_three:null}),te(e=>({...e,...Z(d,x,h,g,b,v)}))},[d,x,h,g,b,v,te]),t.jsxs(a,{header:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:F}),t.jsx("p",{className:"text-sm text-slate-500",children:D})]}),t.jsxs(i,{href:route("surprise.memory.space",{space:c.slug}),className:"inline-flex items-center gap-2 rounded-xl bg-gradient-to-r from-rose-500 to-purple-600 px-4 py-2 text-sm font-semibold text-white shadow-lg transition hover:from-rose-600 hover:to-purple-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-300 focus-visible:ring-offset-2",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),t.jsx("polyline",{points:"15 3 21 3 21 9"}),t.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]}),"Lihat Memory Lane"]})]}),children:[t.jsx(r,{title:`${U} - ${c.title}`}),t.jsxs("div",{className:"relative mx-auto max-w-5xl space-y-8 px-4 pb-16 sm:px-6 lg:px-8",children:[j?.success&&t.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-700 shadow",children:j.success}),j?.error&&t.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700 shadow",children:j.error}),t.jsxs("form",{onSubmit:e=>{e.preventDefault(),Object.values(ie).some(Boolean)||se(route("memory-lane.update",{space:c.slug}),{forceFormData:!0,preserveScroll:!0})},className:"space-y-10 rounded-3xl border border-slate-100 bg-white/90 p-6 shadow-lg backdrop-blur",children:[t.jsxs("section",{className:"space-y-4",children:[t.jsxs("header",{className:"space-y-2",children:[t.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:T}),t.jsx("p",{className:"text-sm text-slate-500",children:E})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"pin",className:"block text-sm font-medium text-slate-700",children:K}),t.jsx("input",{id:"pin",type:"text",value:ee.pin,onChange:e=>te("pin",e.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-slate-800 shadow-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300",placeholder:O,maxLength:10}),t.jsx("p",{className:"mt-1 text-xs text-slate-500",children:B}),t.jsxs("div",{className:"mt-2 rounded-xl border border-blue-200 bg-blue-50 px-3 py-2 text-xs text-blue-700",children:[t.jsx("strong",{children:"Catatan:"})," PIN akan otomatis dinormalisasi (spasi dihapus, huruf kecil semua) untuk konsistensi. Default PIN: 00000 (lima nol)."]}),le.pin&&t.jsx("p",{className:"mt-1 text-sm text-rose-500",children:le.pin})]}),!m&&t.jsx("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-700 shadow",children:A})]}),t.jsxs("section",{className:"space-y-4",children:[t.jsxs("header",{className:"space-y-2",children:[t.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Number of Puzzle Levels"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Choose how many puzzle levels users must complete (0 = skip puzzles entirely)"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"active_levels",className:"block text-sm font-medium text-slate-700",children:"Active Levels"}),t.jsxs("select",{id:"active_levels",value:ee.active_levels,onChange:e=>te("active_levels",parseInt(e.target.value)),className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-slate-800 shadow-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300",children:[t.jsx("option",{value:0,children:"0 - Skip puzzles (no levels)"}),t.jsx("option",{value:1,children:"1 - One puzzle level"}),t.jsx("option",{value:2,children:"2 - Two puzzle levels"}),t.jsx("option",{value:3,children:"3 - Three puzzle levels (default)"})]}),t.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Users will need to complete ",ee.active_levels," puzzle",1!==ee.active_levels?"s":""," before accessing the Memory Lane content."]}),le.active_levels&&t.jsx("p",{className:"mt-1 text-sm text-rose-500",children:le.active_levels})]})]}),t.jsxs("section",{className:"space-y-6",children:[t.jsxs("header",{className:"space-y-2",children:[t.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:H}),t.jsx("p",{className:"text-sm text-slate-500",children:G})]}),0===ee.active_levels&&t.jsx("div",{className:"rounded-2xl border border-blue-200 bg-blue-50 px-4 py-3 text-sm text-blue-700 shadow",children:"Puzzles are disabled. Users will skip directly to Memory Lane content."}),d.slice(0,ee.active_levels).map((e,s)=>{const a=e.key,l=`${a}_image`,n=`${a}_title`,r=`${a}_body`,i=ne[a];return t.jsxs("section",{className:"space-y-4 rounded-3xl border border-slate-100 bg-white/95 p-6 shadow-sm",children:[t.jsxs("header",{className:"space-y-1",children:[t.jsxs("span",{className:"text-xs uppercase tracking-[0.28em] text-slate-400",children:["Level ",s+1]}),t.jsx("h4",{className:"text-xl font-semibold text-slate-900",children:e.label})]}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-[minmax(0,320px)_minmax(0,1fr)]",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"relative overflow-hidden rounded-3xl border border-slate-200 bg-slate-50",children:i?t.jsx("img",{src:i,alt:`preview-level-${s+1}`,className:"h-56 w-full object-cover"}):t.jsxs("div",{className:"flex h-56 flex-col items-center justify-center gap-2 text-sm text-slate-400",children:[t.jsx(u,{className:"h-8 w-8"}),t.jsx("span",{children:$.empty_image??"No image"})]})}),t.jsx("p",{className:"text-xs text-slate-500",children:J}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.jsxs("label",{htmlFor:`${l}-input`,className:"inline-flex items-center gap-2 rounded-xl bg-slate-900 px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-slate-700",children:[t.jsx(N,{className:"h-4 w-4"}),Y,t.jsx("input",{id:`${l}-input`,type:"file",accept:"image/*",className:"hidden",onChange:e=>{(async(e,t)=>{const s=e.target.files?.[0]??null,a=`${t}_image`,l=`${t}_reset`;if(xe.current[t]&&(URL.revokeObjectURL(xe.current[t]),delete xe.current[t]),!s)return te(a,null),te(l,!1),re(e=>({...e,[t]:me(t)})),void oe(e=>({...e,[t]:null}));if(s.size>I)return oe(e=>({...e,[t]:ce})),void te(a,null);try{const e=await o(s);if(e.size>I)return oe(e=>({...e,[t]:ce})),void te(a,null);te(a,e),te(l,!1);const n=URL.createObjectURL(e);xe.current[t]=n,re(e=>({...e,[t]:n})),oe(e=>({...e,[t]:null}))}catch(n){oe(e=>({...e,[t]:de})),te(a,null)}})(e,a)}})]}),(e.image||e.default_image)&&t.jsxs("button",{type:"button",onClick:()=>((e,t)=>{const s=`${e}_reset`;te(`${e}_image`,null),te(s,!0),xe.current[e]&&(URL.revokeObjectURL(xe.current[e]),delete xe.current[e]),re(s=>({...s,[e]:t??null})),oe(t=>({...t,[e]:null}))})(a,e.default_image),className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700 transition hover:bg-slate-100",children:[t.jsx(y,{className:"h-4 w-4"}),W]})]}),ie[a]&&t.jsx("p",{className:"text-sm text-rose-600",children:ie[a]}),le[l]&&t.jsx("p",{className:"text-sm text-rose-600",children:le[l]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:X}),t.jsx("input",{type:"text",value:ee[n],onChange:e=>te(n,e.target.value),className:"mt-1 w-full rounded-xl border border-slate-200 px-4 py-2 text-slate-800 shadow-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300"}),le[n]&&t.jsx("p",{className:"mt-1 text-sm text-rose-500",children:le[n]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:V}),t.jsx("textarea",{value:ee[r],onChange:e=>te(r,e.target.value),className:"mt-1 min-h-[120px] w-full rounded-xl border border-slate-200 px-4 py-2 text-slate-800 shadow-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-300"}),le[r]&&t.jsx("p",{className:"mt-1 text-sm text-rose-500",children:le[r]})]})]})]})]},e.key)})]}),t.jsx(_,{defaultRewards:p,customRewards:ee.custom_rewards,onChange:e=>te("custom_rewards",e)}),t.jsx(L,{pages:ee.flipbook_pages,onChange:e=>te("flipbook_pages",e),onImageChange:(e,t)=>{const s=[...ee.flipbook_pages];s[e]&&(s[e]={...s[e],image_file:t},te("flipbook_pages",s))},coverImage:f,coverTitle:ee.flipbook_cover_title,onCoverImageChange:e=>te("flipbook_cover_image",e),onCoverTitleChange:e=>te("flipbook_cover_title",e)}),t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[t.jsxs(i,{href:route("surprise.memory.space",{space:c.slug}),className:"inline-flex items-center gap-2 rounded-full border-2 border-slate-300 bg-white px-6 py-3 text-sm font-semibold text-slate-700 transition hover:border-slate-400 hover:bg-slate-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-slate-300 focus-visible:ring-offset-2",children:[t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),t.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),"Preview Memory Lane"]}),t.jsxs("button",{type:"submit",disabled:ae||Object.values(ie).some(Boolean),className:"inline-flex items-center justify-center gap-2 rounded-full bg-slate-900 px-6 py-3 text-sm font-semibold text-white transition hover:bg-slate-700 disabled:cursor-not-allowed disabled:opacity-70",children:[ae&&t.jsx(k,{className:"h-4 w-4 animate-spin"}),ae?Q:q]})]})]})]})]})}export{P as default};
