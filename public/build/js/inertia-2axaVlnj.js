import{al as e,am as t,an as n,ao as r,r as i,ap as o,$ as s}from"./vendor-DXr22Lef.js";function a(e,t){let n;return function(...r){clearTimeout(n),n=setTimeout(()=>e.apply(this,r),t)}}function l(e,t){return document.dispatchEvent(new CustomEvent(`inertia:${e}`,t))}var c=e=>l("finish",{detail:{visit:e}}),p=e=>l("navigate",{detail:{page:e}});function d(e){return e instanceof File||e instanceof Blob||e instanceof FileList&&e.length>0||e instanceof FormData&&Array.from(e.values()).some(e=>d(e))||"object"==typeof e&&null!==e&&Object.values(e).some(e=>d(e))}function u(e,t=new FormData,n=null){e=e||{};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&m(t,h(n,r),e[r]);return t}function h(e,t){return e?e+"["+t+"]":t}function m(e,t,n){return Array.isArray(n)?Array.from(n.keys()).forEach(r=>m(e,h(t,r.toString()),n[r])):n instanceof Date?e.append(t,n.toISOString()):n instanceof File?e.append(t,n,n.name):n instanceof Blob?e.append(t,n):"boolean"==typeof n?e.append(t,n?"1":"0"):"string"==typeof n?e.append(t,n):"number"==typeof n?e.append(t,`${n}`):null==n?e.append(t,""):void u(n,e,t)}var f={modal:null,listener:null,show(e){"object"==typeof e&&(e=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(e)}`);let t=document.createElement("html");t.innerHTML=e,t.querySelectorAll("a").forEach(e=>e.setAttribute("target","_top")),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide());let n=document.createElement("iframe");if(n.style.backgroundColor="white",n.style.borderRadius="5px",n.style.width="100%",n.style.height="100%",this.modal.appendChild(n),document.body.prepend(this.modal),document.body.style.overflow="hidden",!n.contentWindow)throw new Error("iframe not yet ready.");n.contentWindow.document.open(),n.contentWindow.document.write(t.outerHTML),n.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(e){27===e.keyCode&&this.hide()}};function g(e){return new URL(e.toString(),window.location.toString())}function v(e,r,i,o="brackets"){let s=/^https?:\/\//.test(r.toString()),a=s||r.toString().startsWith("/"),l=!a&&!r.toString().startsWith("#")&&!r.toString().startsWith("?"),c=r.toString().includes("?")||"get"===e&&Object.keys(i).length,p=r.toString().includes("#"),d=new URL(r.toString(),"http://localhost");return"get"===e&&Object.keys(i).length&&(d.search=t.stringify(n(t.parse(d.search,{ignoreQueryPrefix:!0}),i),{encodeValuesOnly:!0,arrayFormat:o}),i={}),[[s?`${d.protocol}//${d.host}`:"",a?d.pathname:"",l?d.pathname.substring(1):"",c?d.search:"",p?d.hash:""].join(""),i]}function y(e){return(e=new URL(e.href)).hash="",e}var w=typeof window>"u",S=!w&&/CriOS/.test(window.navigator.userAgent),b=e=>{requestAnimationFrame(()=>{requestAnimationFrame(e)})},k={buildDOMElement(e){let t=document.createElement("template");t.innerHTML=e;let n=t.content.firstChild;if(!e.startsWith("<script "))return n;let r=document.createElement("script");return r.innerHTML=n.innerHTML,n.getAttributeNames().forEach(e=>{r.setAttribute(e,n.getAttribute(e)||"")}),r},isInertiaManagedElement:e=>e.nodeType===Node.ELEMENT_NODE&&null!==e.getAttribute("inertia"),findMatchingElementIndex(e,t){let n=e.getAttribute("inertia");return null!==n?t.findIndex(e=>e.getAttribute("inertia")===n):-1},update:a(function(e){let t=e.map(e=>this.buildDOMElement(e));Array.from(document.head.childNodes).filter(e=>this.isInertiaManagedElement(e)).forEach(e=>{let n=this.findMatchingElementIndex(e,t);if(-1===n)return void e?.parentNode?.removeChild(e);let r=t.splice(n,1)[0];r&&!e.isEqualNode(r)&&e?.parentNode?.replaceChild(r,e)}),t.forEach(e=>document.head.appendChild(e))},1)};var E=null;function C(e){document.addEventListener("inertia:start",x.bind(null,e)),document.addEventListener("inertia:progress",P),document.addEventListener("inertia:finish",I)}function x(e){E=setTimeout(()=>r.start(),e)}function P(e){r.isStarted()&&e.detail.progress?.percentage&&r.set(Math.max(r.status,e.detail.progress.percentage/100*.9))}function I(e){clearTimeout(E),r.isStarted()&&(e.detail.visit.completed?r.done():e.detail.visit.interrupted?r.set(0):e.detail.visit.cancelled&&(r.done(),r.remove()))}var T=new class{constructor(){this.visitId=null}init({initialPage:e,resolveComponent:t,swapComponent:n}){this.page=e,this.resolveComponent=t,this.swapComponent=n,this.setNavigationType(),this.clearRememberedStateOnReload(),this.isBackForwardVisit()?this.handleBackForwardVisit(this.page):this.isLocationVisit()?this.handleLocationVisit(this.page):this.handleInitialPageVisit(this.page),this.setupEventListeners()}setNavigationType(){this.navigationType=window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}clearRememberedStateOnReload(){"reload"===this.navigationType&&window.history.state?.rememberedState&&delete window.history.state.rememberedState}handleInitialPageVisit(e){let t=window.location.hash;this.page.url.includes(t)||(this.page.url+=t),this.setPage(e,{preserveScroll:!0,preserveState:!0}).then(()=>p(e))}setupEventListeners(){window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),document.addEventListener("scroll",a(this.handleScrollEvent.bind(this),100),!0)}scrollRegions(){return document.querySelectorAll("[scroll-region]")}handleScrollEvent(e){"function"==typeof e.target.hasAttribute&&e.target.hasAttribute("scroll-region")&&this.saveScrollPositions()}saveScrollPositions(){this.replaceState({...this.page,scrollRegions:Array.from(this.scrollRegions()).map(e=>({top:e.scrollTop,left:e.scrollLeft}))})}resetScrollPositions(){b(()=>{window.scrollTo(0,0),this.scrollRegions().forEach(e=>{"function"==typeof e.scrollTo?e.scrollTo(0,0):(e.scrollTop=0,e.scrollLeft=0)}),this.saveScrollPositions(),window.location.hash&&document.getElementById(window.location.hash.slice(1))?.scrollIntoView()})}restoreScrollPositions(){b(()=>{this.page.scrollRegions&&this.scrollRegions().forEach((e,t)=>{let n=this.page.scrollRegions[t];n&&("function"==typeof e.scrollTo?e.scrollTo(n.left,n.top):(e.scrollTop=n.top,e.scrollLeft=n.left))})})}isBackForwardVisit(){return window.history.state&&"back_forward"===this.navigationType}handleBackForwardVisit(e){window.history.state.version=e.version,this.setPage(window.history.state,{preserveScroll:!0,preserveState:!0}).then(()=>{this.restoreScrollPositions(),p(e)})}locationVisit(e,t){try{let n={preserveScroll:t};window.sessionStorage.setItem("inertiaLocationVisit",JSON.stringify(n)),window.location.href=e.href,y(window.location).href===y(e).href&&window.location.reload()}catch{return!1}}isLocationVisit(){try{return null!==window.sessionStorage.getItem("inertiaLocationVisit")}catch{return!1}}handleLocationVisit(e){let t=JSON.parse(window.sessionStorage.getItem("inertiaLocationVisit")||"");window.sessionStorage.removeItem("inertiaLocationVisit"),e.url+=window.location.hash,e.rememberedState=window.history.state?.rememberedState??{},e.scrollRegions=window.history.state?.scrollRegions??[],this.setPage(e,{preserveScroll:t.preserveScroll,preserveState:!0}).then(()=>{t.preserveScroll&&this.restoreScrollPositions(),p(e)})}isLocationVisitResponse(e){return!(!e||409!==e.status||!e.headers["x-inertia-location"])}isInertiaResponse(e){return!!e?.headers["x-inertia"]}createVisitId(){return this.visitId={},this.visitId}cancelVisit(e,{cancelled:t=!1,interrupted:n=!1}){e&&!e.completed&&!e.cancelled&&!e.interrupted&&(e.cancelToken.abort(),e.onCancel(),e.completed=!1,e.cancelled=t,e.interrupted=n,c(e),e.onFinish(e))}finishVisit(e){!e.cancelled&&!e.interrupted&&(e.completed=!0,e.cancelled=!1,e.interrupted=!1,c(e),e.onFinish(e))}resolvePreserveOption(e,t){return"function"==typeof e?e(t):"errors"===e?Object.keys(t.props.errors||{}).length>0:e}cancel(){this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}visit(t,{method:n="get",data:r={},replace:i=!1,preserveScroll:o=!1,preserveState:s=!1,only:a=[],except:c=[],headers:p={},errorBag:h="",forceFormData:m=!1,onCancelToken:w=()=>{},onBefore:S=()=>{},onStart:b=()=>{},onProgress:k=()=>{},onFinish:E=()=>{},onCancel:C=()=>{},onSuccess:x=()=>{},onError:P=()=>{},queryStringArrayFormat:I="brackets"}={}){let T="string"==typeof t?g(t):t;if((d(r)||m)&&!(r instanceof FormData)&&(r=u(r)),!(r instanceof FormData)){let[e,t]=v(n,T,r,I);T=g(e),r=t}let L={url:T,method:n,data:r,replace:i,preserveScroll:o,preserveState:s,only:a,except:c,headers:p,errorBag:h,forceFormData:m,queryStringArrayFormat:I,cancelled:!1,completed:!1,interrupted:!1};if(!1===S(L)||!l("before",{cancelable:!0,detail:{visit:L}}))return;this.activeVisit&&this.cancelVisit(this.activeVisit,{interrupted:!0}),this.saveScrollPositions();let V=this.createVisitId();this.activeVisit={...L,onCancelToken:w,onBefore:S,onStart:b,onProgress:k,onFinish:E,onCancel:C,onSuccess:x,onError:P,queryStringArrayFormat:I,cancelToken:new AbortController},w({cancel:()=>{this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}}),l("start",{detail:{visit:L}}),b(L);let O=!(!a.length&&!c.length);e({method:n,url:y(T).href,data:"get"===n?{}:r,params:"get"===n?r:{},signal:this.activeVisit.cancelToken.signal,headers:{...p,Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0,...O?{"X-Inertia-Partial-Component":this.page.component}:{},...a.length?{"X-Inertia-Partial-Data":a.join(",")}:{},...c.length?{"X-Inertia-Partial-Except":c.join(",")}:{},...h&&h.length?{"X-Inertia-Error-Bag":h}:{},...this.page.version?{"X-Inertia-Version":this.page.version}:{}},onUploadProgress:e=>{r instanceof FormData&&(e.percentage=e.progress?Math.round(100*e.progress):0,(e=>{l("progress",{detail:{progress:e}})})(e),k(e))}}).then(e=>{if(!this.isInertiaResponse(e))return Promise.reject({response:e});let t=e.data;O&&t.component===this.page.component&&(t.props={...this.page.props,...t.props}),o=this.resolvePreserveOption(o,t),(s=this.resolvePreserveOption(s,t))&&window.history.state?.rememberedState&&t.component===this.page.component&&(t.rememberedState=window.history.state.rememberedState);let n=T,r=g(t.url);return n.hash&&!r.hash&&y(n).href===r.href&&(r.hash=n.hash,t.url=r.href),this.setPage(t,{visitId:V,replace:i,preserveScroll:o,preserveState:s})}).then(()=>{let e=this.page.props.errors||{};if(Object.keys(e).length>0){let t=h?e[h]?e[h]:{}:e;return(e=>{l("error",{detail:{errors:e}})})(t),P(t)}return(()=>{l("success",{detail:{page:this.page}})})(),x(this.page)}).catch(e=>{if(this.isInertiaResponse(e.response))return this.setPage(e.response.data,{visitId:V});if(this.isLocationVisitResponse(e.response)){let t=g(e.response.headers["x-inertia-location"]),n=T;n.hash&&!t.hash&&y(n).href===t.href&&(t.hash=n.hash),this.locationVisit(t,!0===o)}else{if(!e.response)return Promise.reject(e);(e=>l("invalid",{cancelable:!0,detail:{response:e}}))(e.response)&&f.show(e.response.data)}}).then(()=>{this.activeVisit&&this.finishVisit(this.activeVisit)}).catch(t=>{if(!e.isCancel(t)){let e=(e=>l("exception",{cancelable:!0,detail:{exception:e}}))(t);if(this.activeVisit&&this.finishVisit(this.activeVisit),e)return Promise.reject(t)}})}setPage(e,{visitId:t=this.createVisitId(),replace:n=!1,preserveScroll:r=!1,preserveState:i=!1}={}){return Promise.resolve(this.resolveComponent(e.component)).then(o=>{t===this.visitId&&(e.scrollRegions=this.page.scrollRegions||[],e.rememberedState=e.rememberedState||{},(n=n||g(e.url).href===window.location.href)?this.replaceState(e):this.pushState(e),this.swapComponent({component:o,page:e,preserveState:i}).then(()=>{r?this.restoreScrollPositions():this.resetScrollPositions(),n||p(e)}))})}pushState(e){this.page=e,S?setTimeout(()=>window.history.pushState(e,"",e.url)):window.history.pushState(e,"",e.url)}replaceState(e){this.page=e,S?setTimeout(()=>window.history.replaceState(e,"",e.url)):window.history.replaceState(e,"",e.url)}handlePopstateEvent(e){if(null!==e.state){let t=e.state,n=this.createVisitId();Promise.resolve(this.resolveComponent(t.component)).then(e=>{n===this.visitId&&(this.page=t,this.swapComponent({component:e,page:t,preserveState:!1}).then(()=>{this.restoreScrollPositions(),p(t)}))})}else{let e=g(this.page.url);e.hash=window.location.hash,this.replaceState({...this.page,url:e.href}),this.resetScrollPositions()}}get(e,t={},n={}){return this.visit(e,{...n,method:"get",data:t})}reload(e={}){return this.visit(window.location.href,{...e,preserveScroll:!0,preserveState:!0})}replace(e,t={}){return this.visit(e,{preserveState:!0,...t,replace:!0})}post(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"post",data:t})}put(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"put",data:t})}patch(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"patch",data:t})}delete(e,t={}){return this.visit(e,{preserveState:!0,...t,method:"delete"})}remember(e,t="default"){w||this.replaceState({...this.page,rememberedState:{...this.page?.rememberedState,[t]:e}})}restore(e="default"){if(!w)return window.history.state?.rememberedState?.[e]}on(e,t){if(w)return()=>{};let n=e=>{let n=t(e);e.cancelable&&!e.defaultPrevented&&!1===n&&e.preventDefault()};return document.addEventListener(`inertia:${e}`,n),()=>document.removeEventListener(`inertia:${e}`,n)}},L=i.createContext(void 0);L.displayName="InertiaHeadContext";var V=L,O=i.createContext(void 0);O.displayName="InertiaPageContext";var A=O;function R({children:e,initialPage:t,initialComponent:n,resolveComponent:r,titleCallback:o,onHeadUpdate:s}){let[a,l]=i.useState({component:n||null,page:t,key:null}),c=i.useMemo(()=>function(e,t,n){let r={},i=0;function o(){let e=t(""),n={...e?{title:`<title inertia="">${e}</title>`}:{}},i=Object.values(r).reduce((e,t)=>e.concat(t),[]).reduce((e,n)=>{if(-1===n.indexOf("<"))return e;if(0===n.indexOf("<title ")){let r=n.match(/(<title [^>]+>)(.*?)(<\/title>)/);return e.title=r?`${r[1]}${t(r[2])}${r[3]}`:n,e}let r=n.match(/ inertia="[^"]+"/);return r?e[r[0]]=n:e[Object.keys(e).length]=n,e},n);return Object.values(i)}function s(){e?n(o()):k.update(o())}return s(),{forceUpdate:s,createProvider:function(){let e=function(){let e=i+=1;return r[e]=[],e.toString()}();return{update:t=>function(e,t=[]){null!==e&&Object.keys(r).indexOf(e)>-1&&(r[e]=t),s()}(e,t),disconnect:()=>function(e){null===e||-1===Object.keys(r).indexOf(e)||(delete r[e],s())}(e)}}}}(typeof window>"u",o||(e=>e),s||(()=>{})),[]);if(i.useEffect(()=>{T.init({initialPage:t,resolveComponent:r,swapComponent:async({component:e,page:t,preserveState:n})=>{l(r=>({component:e,page:t,key:n?r.key:Date.now()}))}}),T.on("navigate",()=>c.forceUpdate())},[]),!a.component)return i.createElement(V.Provider,{value:c},i.createElement(A.Provider,{value:a.page},null));let p=e||(({Component:e,props:t,key:n})=>{let r=i.createElement(e,{key:n,...t});return"function"==typeof e.layout?e.layout(r):Array.isArray(e.layout)?e.layout.concat(r).reverse().reduce((e,n)=>i.createElement(n,{children:e,...t})):r});return i.createElement(V.Provider,{value:c},i.createElement(A.Provider,{value:a.page},p({Component:a.component,key:a.key,props:a.page.props})))}async function F({id:e="app",resolve:t,setup:n,title:o,progress:s={},page:a,render:l}){let c=typeof window>"u",p=c?null:document.getElementById(e),d=a||JSON.parse(p.dataset.page),u=e=>Promise.resolve(t(e)).then(e=>e.default||e),h=[],m=await u(d.component).then(e=>n({el:p,App:R,props:{initialPage:d,initialComponent:e,resolveComponent:u,titleCallback:o,onHeadUpdate:c?e=>h=e:null}}));if(!c&&s&&function({delay:e=250,color:t="#29d",includeCSS:n=!0,showSpinner:i=!1}={}){C(e),r.configure({showSpinner:i}),n&&function(e){let t=document.createElement("style");t.type="text/css",t.textContent=`\n    #nprogress {\n      pointer-events: none;\n    }\n\n    #nprogress .bar {\n      background: ${e};\n\n      position: fixed;\n      z-index: 1031;\n      top: 0;\n      left: 0;\n\n      width: 100%;\n      height: 2px;\n    }\n\n    #nprogress .peg {\n      display: block;\n      position: absolute;\n      right: 0px;\n      width: 100px;\n      height: 100%;\n      box-shadow: 0 0 10px ${e}, 0 0 5px ${e};\n      opacity: 1.0;\n\n      -webkit-transform: rotate(3deg) translate(0px, -4px);\n          -ms-transform: rotate(3deg) translate(0px, -4px);\n              transform: rotate(3deg) translate(0px, -4px);\n    }\n\n    #nprogress .spinner {\n      display: block;\n      position: fixed;\n      z-index: 1031;\n      top: 15px;\n      right: 15px;\n    }\n\n    #nprogress .spinner-icon {\n      width: 18px;\n      height: 18px;\n      box-sizing: border-box;\n\n      border: solid 2px transparent;\n      border-top-color: ${e};\n      border-left-color: ${e};\n      border-radius: 50%;\n\n      -webkit-animation: nprogress-spinner 400ms linear infinite;\n              animation: nprogress-spinner 400ms linear infinite;\n    }\n\n    .nprogress-custom-parent {\n      overflow: hidden;\n      position: relative;\n    }\n\n    .nprogress-custom-parent #nprogress .spinner,\n    .nprogress-custom-parent #nprogress .bar {\n      position: absolute;\n    }\n\n    @-webkit-keyframes nprogress-spinner {\n      0%   { -webkit-transform: rotate(0deg); }\n      100% { -webkit-transform: rotate(360deg); }\n    }\n    @keyframes nprogress-spinner {\n      0%   { transform: rotate(0deg); }\n      100% { transform: rotate(360deg); }\n    }\n  `,document.head.appendChild(t)}(t)}(s),c){let t=await l(i.createElement("div",{id:e,"data-page":JSON.stringify(d)},m));return{head:h,body:t}}}R.displayName="Inertia";var $=function({children:e,title:t}){let n=i.useContext(V),r=i.useMemo(()=>n.createProvider(),[n]);function o(e){let t=function(e){let t=Object.keys(e.props).reduce((t,n)=>{if(["head-key","children","dangerouslySetInnerHTML"].includes(n))return t;let r=e.props[n];return""===r?t+` ${n}`:t+` ${n}="${r}"`},"");return`<${e.type}${t}>`}(e);return e.props.children&&(t+=function(e){return"string"==typeof e.props.children?e.props.children:e.props.children.reduce((e,t)=>e+o(t),"")}(e)),e.props.dangerouslySetInnerHTML&&(t+=e.props.dangerouslySetInnerHTML.__html),function(e){return["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(e.type)>-1}(e)||(t+=`</${e.type}>`),t}function a(e){return o(function(e){return s.cloneElement(e,{inertia:void 0!==e.props["head-key"]?e.props["head-key"]:""})}(e))}return i.useEffect(()=>()=>{r.disconnect()},[r]),r.update(function(e){let n=s.Children.toArray(e).filter(e=>e).map(e=>a(e));return t&&!n.find(e=>e.startsWith("<title"))&&n.push(`<title inertia>${t}</title>`),n}(e)),null},j=()=>{},B=i.forwardRef(({children:e,as:t="a",data:n={},href:r,method:o="get",preserveScroll:s=!1,preserveState:a=null,replace:l=!1,only:c=[],except:p=[],headers:d={},queryStringArrayFormat:u="brackets",onClick:h=j,onCancelToken:m=j,onBefore:f=j,onStart:g=j,onProgress:y=j,onFinish:w=j,onCancel:S=j,onSuccess:b=j,onError:k=j,...E},C)=>{let x=i.useCallback(e=>{h(e),function(e){let t="a"===e.currentTarget.tagName.toLowerCase();return!(e.target&&(e?.target).isContentEditable||e.defaultPrevented||t&&e.altKey||t&&e.ctrlKey||t&&e.metaKey||t&&e.shiftKey||t&&"button"in e&&0!==e.button)}(e)&&(e.preventDefault(),T.visit(r,{data:n,method:o,preserveScroll:s,preserveState:a??"get"!==o,replace:l,only:c,except:p,headers:d,onCancelToken:m,onBefore:f,onStart:g,onProgress:y,onFinish:w,onCancel:S,onSuccess:b,onError:k}))},[n,r,o,s,a,l,c,p,d,h,m,f,g,y,w,S,b,k]);t=t.toLowerCase(),o=o.toLowerCase();let[P,I]=v(o,r||"",n,u);return r=P,n=I,i.createElement(t,{...E,..."a"===t?{href:r}:{},ref:C,onClick:x},e)});B.displayName="InertiaLink";var M=B;function N(e,t){let[n,r]=i.useState(()=>{let n=T.restore(t);return void 0!==n?n:e});return i.useEffect(()=>{T.remember(n,t)},[n,t]),[n,r]}function D(e,t){let n=i.useRef(null),r="string"==typeof e?e:null,[s,a]=i.useState(("string"==typeof e?t:e)||{}),l=i.useRef(null),c=i.useRef(null),[p,d]=r?N(s,`${r}:data`):i.useState(s),[u,h]=r?N({},`${r}:errors`):i.useState({}),[m,f]=i.useState(!1),[g,v]=i.useState(!1),[y,w]=i.useState(null),[S,b]=i.useState(!1),[k,E]=i.useState(!1),C=i.useRef(e=>e);i.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]);let x=i.useCallback((e,t,r={})=>{let i={...r,onCancelToken:e=>{if(l.current=e,r.onCancelToken)return r.onCancelToken(e)},onBefore:e=>{if(b(!1),E(!1),clearTimeout(c.current),r.onBefore)return r.onBefore(e)},onStart:e=>{if(v(!0),r.onStart)return r.onStart(e)},onProgress:e=>{if(w(e),r.onProgress)return r.onProgress(e)},onSuccess:e=>{if(n.current&&(v(!1),w(null),h({}),f(!1),b(!0),E(!0),c.current=setTimeout(()=>{n.current&&E(!1)},2e3)),r.onSuccess)return r.onSuccess(e)},onError:e=>{if(n.current&&(v(!1),w(null),h(e),f(!0)),r.onError)return r.onError(e)},onCancel:()=>{if(n.current&&(v(!1),w(null)),r.onCancel)return r.onCancel()},onFinish:()=>{if(n.current&&(v(!1),w(null)),l.current=null,r.onFinish)return r.onFinish()}};"delete"===e?T.delete(t,{...i,data:C.current(p)}):T[e](t,C.current(p),i)},[p,h]),P=i.useCallback((e,t)=>{d("string"==typeof e?n=>({...n,[e]:t}):"function"==typeof e?t=>e(t):e)},[d]),I=i.useCallback((e,t)=>{a(typeof e>"u"?()=>p:n=>({...n,..."string"==typeof e?{[e]:t}:e}))},[p,a]),L=i.useCallback((...e)=>{0===e.length?d(s):d(t=>Object.keys(s).filter(t=>e.includes(t)).reduce((e,t)=>(e[t]=s[t],e),{...t}))},[d,s]),V=i.useCallback((e,t)=>{h(n=>{let r={...n,..."string"==typeof e?{[e]:t}:e};return f(Object.keys(r).length>0),r})},[h,f]),O=i.useCallback((...e)=>{h(t=>{let n=Object.keys(t).reduce((n,r)=>({...n,...e.length>0&&!e.includes(r)?{[r]:t[r]}:{}}),{});return f(Object.keys(n).length>0),n})},[h,f]),A=e=>(t,n)=>{x(e,t,n)},R=i.useCallback(A("get"),[x]),F=i.useCallback(A("post"),[x]),$=i.useCallback(A("put"),[x]),j=i.useCallback(A("patch"),[x]),B=i.useCallback(A("delete"),[x]),M=i.useCallback(()=>{l.current&&l.current.cancel()},[]),D=i.useCallback(e=>{C.current=e},[]);return{data:p,setData:P,isDirty:!o(p,s),errors:u,hasErrors:m,processing:g,progress:y,wasSuccessful:S,recentlySuccessful:k,transform:D,setDefaults:I,reset:L,setError:V,clearErrors:O,submit:x,get:R,post:F,put:$,patch:j,delete:B,cancel:M}}function H(){let e=i.useContext(A);if(!e)throw new Error("usePage must be used within the Inertia component");return e}var q=T;export{q as A,D as G,$ as S,F as W,H as X,M as x};
