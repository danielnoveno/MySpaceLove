import{r as e,j as t}from"./vendor-DXr22Lef.js";import{u as a,b as s}from"./games-RZpJ1ixc.js";import{S as l}from"./inertia-2axaVlnj.js";import{H as i}from"./flipbook-DwGmyc76.js";/* empty css            */import{m as o,S as n,H as r,A as d,ah as c}from"./ui-libs-D5k9l7B7.js";import"./animation-H0tefZHq.js";function m({space:m,pages:x}){const{translations:p}=a("memory_lane"),f=p?.storybook?.hero??{},h=p?.storybook?.empty??{},g=p?.storybook?.player??{},b=f.title??"Our Memory Storybook",u=f.subtitle??"Flip through curated memories from the Memory Lane Kit.",y=f.cta??"Start flipping",w=h.title??"No scrapbook pages yet",j=h.body??"Add photos and notes to the Memory Lane Kit to see them bloom into a storybook.",v=g.previous??"Previous page",N=g.next??"Next page",[k,S]=e.useState(!1),z=e.useRef(null);e.useEffect(()=>{const e=document.createElement("link");return e.href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Pacifico&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@400;500;600;700&display=swap",e.rel="stylesheet",document.head.appendChild(e),()=>{document.head.contains(e)&&document.head.removeChild(e)}},[]);const C=e.useMemo(()=>(x??[]).map((e,t)=>({id:e.id??`page-${t+1}`,label:e.label||null,title:e.title||"Untitled",body:e.body??"",image:e.image??null,types:e.types||[],type:e.type||"standard",canvas_elements:e.canvas_elements||[],bg_color:e.bg_color||null})),[x]),$=C.length>0,_=`${b} - ${m.title}`;return t.jsxs(s,{header:t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-[#CFCAB5]/40 px-3 py-1 text-xs font-semibold uppercase tracking-[0.24em] text-[#498386]",children:[t.jsx(n,{className:"h-4 w-4"}),p?.meta?.storybook??"Storybook"]}),t.jsx("h1",{className:"text-3xl font-semibold text-[#355659]",children:b}),t.jsx("p",{className:"max-w-2xl text-sm text-[#4f6364]",children:u})]}),children:[t.jsx(l,{title:_}),t.jsx("div",{className:"relative min-h-screen bg-gradient-to-br from-[#f5f1e6] via-white to-[#d5ede9] pb-16",children:t.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col gap-10 px-4 pt-10 sm:px-6 lg:px-8",children:[!k&&t.jsxs("div",{className:"relative overflow-hidden rounded-[40px] border border-[#c9dcd9] bg-white/90 p-8 shadow-xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#498386]/10 via-transparent to-[#cfcab5]/30"}),t.jsxs("div",{className:"relative flex flex-col items-center gap-6 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3 rounded-full bg-white/70 px-4 py-2 text-sm font-medium text-[#498386] shadow",children:[t.jsx(o,{className:"h-5 w-5"}),t.jsx("span",{children:m.title})]}),t.jsx("h2",{className:"text-2xl font-semibold text-[#355659]",children:b}),t.jsx("p",{className:"max-w-2xl text-sm text-[#4f6364]",children:u}),t.jsxs("button",{type:"button",onClick:()=>{$&&S(!0)},disabled:!$,className:"inline-flex items-center gap-2 rounded-full bg-[#498386] px-6 py-3 font-semibold text-white shadow-md transition hover:bg-[#3c6e70] disabled:cursor-not-allowed disabled:opacity-60",children:[t.jsx(n,{className:"h-5 w-5"}),y]}),!$&&t.jsx("div",{className:"mt-6 max-w-xl rounded-3xl border border-[#f2d2cf] bg-[#fff6f4] p-5 text-left shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(r,{className:"h-6 w-6 text-[#e07a7a]"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-base font-semibold text-[#6f3f44]",children:w}),t.jsx("p",{className:"text-sm text-[#845a60]",children:j})]})]})})]})]}),k&&$&&t.jsxs("div",{className:"mx-auto flex w-full max-w-5xl flex-col items-center gap-6",children:[t.jsx("div",{className:"relative w-full overflow-hidden rounded-[42px] border border-[#d7e5e2] bg-white/90 p-6 shadow-2xl",children:t.jsx(i,{width:Math.min(900,400),height:580,size:"fixed",minWidth:300,maxWidth:1e3,minHeight:400,maxHeight:1500,drawShadow:!0,maxShadowOpacity:.5,className:"mx-auto",usePortrait:!0,startPage:0,ref:z,disableFlipByClick:!0,style:{margin:"0 auto"},flippingTime:1e3,startZIndex:0,autoSize:!0,showCover:!1,mobileScrollSupport:!0,clickEventForward:!0,useMouseEvents:!0,swipeDistance:30,showPageCorners:!0,children:C.map(e=>t.jsxs("article",{className:"page relative flex h-full flex-col overflow-hidden rounded-[32px] bg-gradient-to-br from-white to-[#f6faf9]",style:{background:"canvas"===e.type?e.bg_color||"#fff5f5":void 0},children:[t.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-[0.05]",style:{backgroundImage:"radial-gradient(circle at 2px 2px, #355659 1px, transparent 0)",backgroundSize:"24px 24px"}}),t.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-20",style:{backgroundImage:"\n                                                        repeating-linear-gradient(\n                                                            transparent,\n                                                            transparent 29px,\n                                                            #498386 29px,\n                                                            #498386 30px\n                                                        ),\n                                                        linear-gradient(\n                                                            to right,\n                                                            transparent 0,\n                                                            transparent 40px,\n                                                            rgba(73, 131, 134, 0.15) 40px,\n                                                            rgba(73, 131, 134, 0.15) 42px,\n                                                            transparent 42px\n                                                        )\n                                                    ",backgroundSize:"100% 30px, 100% 100%"}}),t.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[{icon:n,color:"#498386",size:24,top:"10%",left:"10%",rotation:-15,delay:"0s"},{icon:r,color:"#498386",size:20,top:"15%",right:"12%",rotation:20,delay:"1.5s"},{icon:n,color:"#498386",size:18,bottom:"20%",left:"15%",rotation:10,delay:"0.7s"},{icon:r,color:"#498386",size:22,bottom:"15%",right:"10%",rotation:-10,delay:"2.2s"}].map((e,a)=>{const s=e.icon;return t.jsx("div",{className:"absolute opacity-20 animate-float",style:{top:e.top,bottom:e.bottom,left:e.left,right:e.right,transform:`rotate(${e.rotation}deg)`,animationDelay:e.delay},children:t.jsx(s,{size:e.size,fill:e.color,strokeWidth:1})},a)})}),"canvas"===e.type?t.jsxs("div",{className:"relative h-full w-full overflow-hidden",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 w-1 bg-black/5 z-20"}),e.canvas_elements?.map(e=>t.jsxs("div",{className:"absolute select-none",style:{left:`${e.x}%`,top:`${e.y}%`,width:e.width?`${e.width}%`:"auto",transform:`translate(-50%, -50%) rotate(${e.rotate||0}deg)`,zIndex:e.zIndex},children:["image"===e.type&&e.image_url&&t.jsx("img",{src:e.image_url,alt:"Canvas item",className:"h-auto w-full rounded-sm shadow-sm"}),"text"===e.type&&t.jsx("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",fontFamily:e.fontFamily||"serif",fontSize:`${e.fontSize||16}px`,color:e.color||"#333",lineHeight:1.6,padding:"0 4px"},children:e.content}),"sticker"===e.type&&t.jsx("div",{style:{fontSize:`${e.fontSize||40}px`},children:e.content})]},e.id))]}):t.jsxs("div",{className:"flex h-full flex-col gap-4 p-6",children:[e.label&&t.jsx("span",{className:"inline-flex w-fit items-center gap-2 rounded-full bg-[#498386]/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.18em] text-[#498386]",children:e.label}),e.types&&e.types.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:e.types.map((e,a)=>t.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-[#f43f5e]/10 px-2.5 py-0.5 text-[10px] font-bold uppercase tracking-tight text-[#f43f5e]",children:e},a))}),e.image&&t.jsx("div",{className:"relative overflow-hidden rounded-3xl border border-[#d9ebe7] bg-white",children:t.jsx("img",{src:e.image,alt:e.title??e.label??"Memory",className:"h-60 w-full object-cover"})}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("h3",{className:"text-xl font-semibold text-[#355659]",children:e.title}),e.body&&t.jsx("p",{className:"text-sm leading-relaxed text-[#4f6364]",children:e.body})]})]})]},e.id))})}),t.jsxs("div",{className:"flex items-center gap-4 rounded-full border border-[#d7e5e2] bg-white/80 px-5 py-2 shadow",children:[t.jsxs("button",{type:"button",onClick:()=>{z.current?.pageFlip()?.flipPrev()},className:"inline-flex items-center gap-2 rounded-full bg-white px-4 py-2 text-sm font-semibold text-[#498386] shadow-sm transition hover:bg-[#f1faf8]",children:[t.jsx(d,{className:"h-4 w-4"}),v]}),t.jsxs("button",{type:"button",onClick:()=>{z.current?.pageFlip()?.flipNext()},className:"inline-flex items-center gap-2 rounded-full bg-[#498386] px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-[#3c6e70]",children:[N,t.jsx(c,{className:"h-4 w-4"})]})]})]}),t.jsx("style",{children:"\n                        @keyframes float {\n                            0%, 100% { transform: translateY(0px) rotate(var(--tw-rotate, 0deg)); }\n                            50% { transform: translateY(-10px) rotate(var(--tw-rotate, 0deg)); }\n                        }\n                        .animate-float {\n                            animation: float 3s ease-in-out infinite;\n                        }\n                    "})]})})]})}export{m as default};
