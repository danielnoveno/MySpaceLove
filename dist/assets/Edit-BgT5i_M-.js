import{u as f,j as e,H as b}from"./app-CpTrn_zj.js";import{A as j}from"./AuthenticatedLayout-Du1ilKJG.js";import{u as N}from"./useCurrentSpace-BBxOMrc3.js";import"./ApplicationLogo-CIVcEVux.js";import"./transition-D8AHnLll.js";import"./createLucideIcon-C0075d5o.js";function E({countdown:n}){const o=N();if(!o)return null;const d=o.slug,c=o.title,{data:a,setData:i,post:m,processing:u,errors:s}=f({event_name:n?.event_name||"",event_date:n?.event_date?new Date(n.event_date).toISOString().split("T")[0]:"",description:n?.description||"",activities:n?.activities||[],image:null,_method:"PUT"}),p=(t,r)=>{const l=[...a.activities];l[t]=r,i("activities",l)},x=()=>{i("activities",[...a.activities,""])},v=t=>{const r=a.activities.filter((l,h)=>h!==t);i("activities",r)};function g(t){t.preventDefault(),m(route("countdown.update",{space:d,id:n.id}),{forceFormData:!0})}return e.jsxs(j,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800",children:"Edit Countdown"}),children:[e.jsx(b,{title:`Edit Countdown - ${c}`}),e.jsx("div",{className:"p-6 max-w-xl mx-auto bg-white shadow-md rounded-xl space-y-6",children:e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Nama Event"}),e.jsx("input",{type:"text",value:a.event_name,onChange:t=>i("event_name",t.target.value),className:"mt-1 w-full border-gray-300 rounded-lg shadow-sm focus:border-purple-500 focus:ring-purple-500 transition"}),s.event_name&&e.jsx("p",{className:"mt-1 text-red-500 text-sm",children:s.event_name})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Tanggal Event"}),e.jsx("input",{type:"date",value:a.event_date,onChange:t=>i("event_date",t.target.value),className:"mt-1 w-full border-gray-300 rounded-lg shadow-sm focus:border-purple-500 focus:ring-purple-500 transition"}),s.event_date&&e.jsx("p",{className:"mt-1 text-red-500 text-sm",children:s.event_date})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Deskripsi"}),e.jsx("textarea",{value:a.description,onChange:t=>i("description",t.target.value),className:"mt-1 w-full border-gray-300 rounded-lg shadow-sm focus:border-purple-500 focus:ring-purple-500 transition"}),s.description&&e.jsx("p",{className:"mt-1 text-red-500 text-sm",children:s.description})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Gambar"}),e.jsx("input",{type:"file",onChange:t=>i("image",t.target.files?t.target.files[0]:null),className:"mt-1 w-full border-gray-300 rounded-lg shadow-sm focus:border-purple-500 focus:ring-purple-500 transition"}),s.image&&e.jsx("p",{className:"mt-1 text-red-500 text-sm",children:s.image})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-gray-700 font-medium",children:"Aktivitas"}),a.activities.map((t,r)=>e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("input",{type:"text",value:t,onChange:l=>p(r,l.target.value),className:"w-full border-gray-300 rounded-lg shadow-sm focus:border-purple-500 focus:ring-purple-500 transition"}),e.jsx("button",{type:"button",onClick:()=>v(r),className:"ml-2 text-red-500",children:"Hapus"})]},r)),e.jsx("button",{type:"button",onClick:x,className:"mt-2 text-purple-600",children:"+ Tambah Aktivitas"})]}),e.jsx("button",{type:"submit",disabled:u,className:"mt-6 bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg shadow-md transition duration-200 w-full",children:"Update Countdown"})]})})]})}export{E as default};
