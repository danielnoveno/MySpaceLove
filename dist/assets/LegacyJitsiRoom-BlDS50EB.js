import{a as i,j as e,H as v}from"./app-CpTrn_zj.js";import{V as w}from"./video-fqhApsk7.js";import{c as f}from"./createLucideIcon-C0075d5o.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_=f("copy",N);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],S=f("link-2",L);function A({spaceId:l,user:h}){const o=i.useRef(null),[s,x]=i.useState(!1),[a,b]=i.useState("");i.useEffect(()=>()=>{const t=document.querySelector("#jitsi-script");t&&!document.querySelector("[data-keep-jitsi]")&&t.remove()},[]);const g=()=>{if(x(!0),document.querySelector("#jitsi-script"))d();else{const t=document.createElement("script");t.id="jitsi-script",t.src="https://meet.jit.si/external_api.js",t.async=!0,t.onload=()=>d(),document.body.appendChild(t)}},d=()=>{if(!o.current)return;const t="meet.jit.si",u=`MySpaceLove-${l}-${Math.floor(Math.random()*9999)}`,j=`https://meet.jit.si/${u}`;b(j);const k={roomName:u,parentNode:o.current,width:"100%",height:"100%",userInfo:{displayName:h},interfaceConfigOverwrite:{TOOLBAR_BUTTONS:["microphone","camera","desktop","fullscreen","fodeviceselection","hangup","chat","raisehand","participants-pane"],SHOW_JITSI_WATERMARK:!1,SHOW_BRAND_WATERMARK:!1,SHOW_POWERED_BY:!1,SHOW_WATERMARK_FOR_GUESTS:!1,DEFAULT_LOGO_URL:""},configOverwrite:{prejoinPageEnabled:!0,disableDeepLinking:!0}},c=new window.JitsiMeetExternalAPI(t,k),m=()=>{const r=c.getIFrame();if(!r)return;const n=r.contentDocument||r.contentWindow?.document;n&&n.querySelectorAll(".watermark, .leftwatermark, .rightwatermark, .branding, .branding-link, .poweredby").forEach(p=>p.remove())};c.addEventListener("videoConferenceJoined",()=>{const r=c.getIFrame();if(!r)return;const n=r.contentDocument||r.contentWindow?.document;if(!n)return;m(),new MutationObserver(()=>{m()}).observe(n.body,{childList:!0,subtree:!0})})},y=()=>{navigator.clipboard.writeText(a),alert("Link room telah disalin ke clipboard!")};return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:`Nobar Space #${l}`}),e.jsxs("div",{className:"relative flex h-screen bg-neutral-900 text-white overflow-hidden",children:[e.jsx("div",{ref:o,className:`absolute inset-0 w-full h-full transition-all duration-500 ${s?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`}),!s&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center z-10",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Siap untuk Nobar?"}),e.jsx("p",{className:"text-neutral-400 mb-6",children:"Klik tombol di bawah untuk memulai ruang nobar bersama."}),e.jsxs("button",{onClick:g,className:"bg-emerald-500 hover:bg-emerald-600 px-8 py-3 rounded-xl text-lg flex items-center gap-2 transition-all shadow-lg hover:shadow-emerald-500/30 active:scale-95",children:[e.jsx(w,{size:22})," Mulai Nobar"]})]}),s&&a&&e.jsxs("div",{className:"absolute top-4 right-8 flex gap-2 z-30",children:[e.jsxs("button",{onClick:y,className:"bg-emerald-500 hover:bg-emerald-600 px-3 py-2 rounded-lg text-sm flex items-center gap-1",children:[e.jsx(_,{size:14})," Copy Link"]}),e.jsxs("a",{href:a,target:"_blank",rel:"noreferrer",className:"bg-blue-600 hover:bg-blue-700 px-3 py-2 rounded-lg text-sm flex items-center gap-1",children:[e.jsx(S,{size:14})," Buka di Tab"]})]})]})]})}export{A as default};
