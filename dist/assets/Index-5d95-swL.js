import{u as Te,a as l,j as e,H as Ue,b as m,r as x,L as Le}from"./app-CpTrn_zj.js";import{A as Ge}from"./AuthenticatedLayout-Du1ilKJG.js";import{I as j}from"./InputError-BF2RuhHQ.js";import{I as p}from"./InputLabel-7GwQvEtR.js";import{P as h}from"./PrimaryButton-DyMDmQxC.js";import{T as b}from"./TextInput-DN1tdVVL.js";import{c as Re}from"./createLucideIcon-C0075d5o.js";import"./ApplicationLogo-CIVcEVux.js";import"./transition-D8AHnLll.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ge=Re("triangle-alert",qe);function Ze({spaces:N,pendingInvitations:F,status:P,canCreate:E,pendingSeparationRequests:$,separationConfirmationPhrase:g}){const{data:K,setData:B,post:xe,processing:D,errors:M,reset:he}=Te({title:"",bio:""}),[T,U]=l.useState(null),[L,S]=l.useState(null),[G,R]=l.useState(""),[w,q]=l.useState(!1),[_,f]=l.useState(null),[be,C]=l.useState(null),[je,I]=l.useState(null),[J,H]=l.useState({}),[fe,y]=l.useState({}),[ye,u]=l.useState({}),[z,O]=l.useState(null),[V,Y]=l.useState(null),[Q,W]=l.useState({}),[X,Z]=l.useState({}),[A,c]=l.useState(null),[ee,ae]=l.useState(null),[k,se]=l.useState(null),[ne,re]=l.useState(null),[v,ke]=l.useState(null),ve=N.length>0,Ne=F.length>0,Se=l.useMemo(()=>$.filter(a=>a.requires_your_confirmation),[$]);l.useEffect(()=>{if(v===null||typeof window>"u")return;document.getElementById(`space-separation-${v}`)?.scrollIntoView({behavior:"smooth",block:"start"})},[v]);const te=l.useCallback(a=>J[a]??{name:"",email:""},[J]),ie=l.useCallback((a,s,n)=>{H(r=>{const t=r[a]??{name:"",email:""};return{...r,[a]:{...t,[s]:n}}})},[]),we=a=>{switch(a){case"accepted":return"border border-emerald-200 bg-emerald-50 text-emerald-700";case"pending":return"border border-amber-200 bg-amber-50 text-amber-700";case"declined":case"rejected":return"border border-red-200 bg-red-50 text-red-700";case"cancelled":case"canceled":return"border border-gray-200 bg-gray-50 text-gray-600";default:return"border border-gray-200 bg-gray-50 text-gray-600"}},_e=l.useCallback(a=>{switch(a){case"success":return"rounded-md border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700";case"error":default:return"rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700"}},[]),le=l.useCallback((a,s)=>{W(n=>{const r=n[a]??{phrase:"",reason:""};return{...n,[a]:{phrase:s.phrase??r.phrase,reason:s.reason??r.reason}}})},[]),de=l.useCallback((a,s)=>{Z(n=>{const r=n[a]??{phrase:"",reason:""};return{...n,[a]:{phrase:s.phrase??r.phrase,reason:s.reason??r.reason}}})},[]),oe=l.useCallback(a=>Q[a]??{phrase:"",reason:""},[Q]),me=l.useCallback(a=>X[a]??{phrase:"",reason:""},[X]),Ce=a=>{a.preventDefault(),E&&xe(route("spaces.store"),{onSuccess:()=>{he()}})},Ie=async a=>{S(null),U(a.id);try{const s=await m.post(route("api.spaces.confirm-partner",{space:a.space.slug}));x.visit(route("spaces.dashboard",{space:s.data.space.slug}))}catch(s){if(m.isAxiosError(s)){const n=s.response?.data?.message??"Gagal mengonfirmasi undangan. Coba lagi nanti.";S(n)}else S("Terjadi kesalahan saat mengonfirmasi undangan.")}finally{U(null)}},Ae=async a=>{if(a.preventDefault(),w)return;f(null),C(null);const s=G.trim().toUpperCase();if(!s){C("Kode pasangan wajib diisi.");return}q(!0);try{const n=await m.post(route("api.spaces.request-join"),{partner_code:s});f({type:"success",message:n.data?.message??"Berhasil bergabung dengan Space pasanganmu."}),R("");const r=n.data?.space?.slug;r?setTimeout(()=>{x.visit(route("spaces.dashboard",{space:r}))},200):x.reload()}catch(n){if(m.isAxiosError(n)){const r=n.response?.data,t=r?.errors?.partner_code?.[0];t&&C(t),f({type:"error",message:r?.message??t??"Gagal mengajukan permintaan bergabung."})}else f({type:"error",message:"Terjadi kesalahan saat mengajukan permintaan bergabung."})}finally{q(!1)}},Fe=l.useCallback(a=>{I(s=>s===a?null:a),u(s=>({...s,[a]:null})),y(s=>({...s,[a]:{}}))},[]),ce=l.useCallback(a=>{ke(s=>s===a?null:a)},[]),Pe=async a=>{const s=te(a.id),n=s.name.trim(),r=s.email.trim();if(u(t=>({...t,[a.id]:null})),y(t=>({...t,[a.id]:{}})),n===""||r===""){y(t=>({...t,[a.id]:{partner_name:n===""?"Nama pasangan wajib diisi.":void 0,partner_email:r===""?"Email pasangan wajib diisi.":void 0}})),u(t=>({...t,[a.id]:{type:"error",message:"Lengkapi nama dan email pasangan terlebih dahulu."}}));return}O(a.id);try{const t=await m.post(route("api.spaces.connect-partner",{space:a.slug}),{partner_name:n,partner_email:r});u(i=>({...i,[a.id]:{type:"success",message:t.data?.message??"Undangan berhasil dikirim. Pasanganmu tinggal bergabung."}})),H(i=>({...i,[a.id]:{name:"",email:""}})),I(null),x.reload()}catch(t){if(m.isAxiosError(t)){const i=t.response?.data,d=i?.errors??{};y(o=>({...o,[a.id]:{partner_name:d.partner_name?.[0],partner_email:d.partner_email?.[0]}})),u(o=>({...o,[a.id]:{type:"error",message:i?.message??d.partner_name?.[0]??d.partner_email?.[0]??"Gagal mengirim undangan. Silakan coba lagi."}}))}else u(i=>({...i,[a.id]:{type:"error",message:"Terjadi kesalahan saat mengirim undangan."}}))}finally{O(null)}},Ee=async(a,s)=>{if(!(typeof window<"u"&&!window.confirm("Batalkan undangan ini? Kamu bisa mengundang akun lain setelahnya."))){u(n=>({...n,[a.id]:null})),Y(s);try{const n=await m.delete(route("api.spaces.invitations.cancel",{space:a.slug,invitation:s}));u(r=>({...r,[a.id]:{type:"success",message:n.data?.message??"Undangan berhasil dibatalkan."}})),I(null),x.reload()}catch(n){let r="Gagal membatalkan undangan. Coba beberapa saat lagi.";if(m.isAxiosError(n)){const t=n.response?.data;typeof t?.message=="string"&&(r=t.message)}u(t=>({...t,[a.id]:{type:"error",message:r}}))}finally{Y(null)}}},$e=async a=>{const s=oe(a.id),n=s.phrase.trim(),r=s.reason.trim();if(!n){c({type:"error",message:"Ketik frasa konfirmasi terlebih dahulu."});return}if(n.toUpperCase()!==g.toUpperCase()){c({type:"error",message:`Frasa konfirmasi harus persis "${g}".`});return}ae(a.id),c(null);try{const t=await m.post(route("api.spaces.separation.request",{space:a.slug}),{confirmation_phrase:n,reason:r===""?void 0:r});c({type:"success",message:t.data?.message??"Permintaan pembubaran berhasil dikirim."}),W(i=>({...i,[a.id]:{phrase:"",reason:""}})),x.reload()}catch(t){let i="Gagal mengirim permintaan pembubaran.";m.isAxiosError(t)&&(i=t.response?.data?.message??i),c({type:"error",message:i})}finally{ae(null)}},Ke=async a=>{c(null),re(a.id);try{const s=await m.post(route("api.spaces.separation.cancel",{space:a.slug}));c({type:"success",message:s.data?.message??"Permintaan pembubaran dibatalkan."}),x.reload()}catch(s){let n="Gagal membatalkan permintaan pembubaran.";m.isAxiosError(s)&&(n=s.response?.data?.message??n),c({type:"error",message:n})}finally{re(null)}},ue=async(a,s)=>{const n=me(a.id),r=n.phrase.trim(),t=n.reason.trim();if(!r){c({type:"error",message:"Ketik frasa konfirmasi terlebih dahulu."});return}if(r.toUpperCase()!==g.toUpperCase()){c({type:"error",message:`Frasa konfirmasi harus persis "${g}".`});return}se(a.id),c(null);try{const i=await m.post(route("api.spaces.separation.respond",{space:a.slug}),{decision:s,confirmation_phrase:r,reason:t===""?void 0:t});c({type:"success",message:i.data?.message??(s==="approve"?"Space berhasil diakhiri.":"Permintaan pembubaran ditolak.")}),Z(d=>({...d,[a.id]:{phrase:"",reason:""}})),x.reload()}catch(i){let d="Gagal memproses konfirmasi pembubaran.";m.isAxiosError(i)&&(d=i.response?.data?.message??d),c({type:"error",message:d})}finally{se(null)}},pe=(a=!0)=>{const s=E?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Buat Space Baru"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Kamu bisa mengundang pasanganmu setelah Space selesai dibuat."}),e.jsxs("form",{onSubmit:Ce,className:"mt-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:"title",value:"Nama Space"}),e.jsx(b,{id:"title",name:"title",value:K.title,className:"mt-1 block w-full",onChange:n=>B("title",n.target.value),placeholder:"Contoh: Ruang Cerita Dinda",required:!0}),e.jsx(j,{message:M.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"bio",value:"Deskripsi (opsional)"}),e.jsx("textarea",{id:"bio",name:"bio",value:K.bio,onChange:n=>B("bio",n.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring focus:ring-pink-200 focus:ring-opacity-50",rows:4,placeholder:"Ceritakan secara singkat tentang hubungan kalian."}),e.jsx(j,{message:M.bio,className:"mt-2"})]}),e.jsx(h,{className:"w-full justify-center",disabled:D,children:D?"Membuat...":"Buat Space"})]})]}):null;return s===null?null:a?e.jsx("div",{className:"bg-white shadow-sm rounded-xl p-6",children:s}):s},Be=()=>e.jsxs("div",{className:"bg-white shadow-sm rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gabung ke Space Pasangan"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Masukkan kode pasangan (Partner Code) yang dibagikan pasanganmu untuk langsung bergabung."}),e.jsxs("form",{onSubmit:Ae,className:"mt-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:"partner_code",value:"Kode Pasangan"}),e.jsx(b,{id:"partner_code",name:"partner_code",value:G,className:"mt-1 block w-full uppercase tracking-widest",onChange:a=>R(a.target.value.toUpperCase()),placeholder:"Contoh: ABCD1234"}),e.jsx(j,{message:be??void 0,className:"mt-2"})]}),e.jsx(h,{type:"submit",className:"w-full justify-center",disabled:w,children:w?"Menghubungkan...":"Gabung ke Space"})]})]}),De=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white shadow-sm rounded-xl p-6 space-y-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Kamu sudah memiliki Space"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Setiap akun hanya bisa mempunyai satu Space. Jika ingin membuat Space baru, lepaskan Space yang lama terlebih dahulu."})]}),e.jsxs("div",{className:"bg-white shadow-sm rounded-xl p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Space yang Kamu Punya"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Kelola Space kamu, undang pasangan, atau akhiri hubungan Space dari halaman ini."})]}),e.jsx("div",{className:"space-y-4",children:N.map(a=>{const s=te(a.id),n=ye[a.id],r=fe[a.id]??{},t=je===a.id,i=a.pending_separation,d=a.pending_invitation;return e.jsxs("div",{className:"rounded-lg border border-gray-100 bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-base font-semibold text-gray-900",children:a.title}),e.jsx("p",{className:"text-sm text-gray-500",children:a.has_partner?"Pasangan sudah terhubung. Nikmati semua fitur berdua.":"Belum ada pasangan. Kamu bisa mengundang pasangan kapan saja."}),d&&e.jsxs("p",{className:"mt-1 text-xs text-gray-400",children:[d.status_label," ",e.jsx("span",{className:"font-semibold",children:d.email}),d.sent_at?` • Dikirim ${d.sent_at}`:""]})]}),e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.jsx(Le,{href:route("spaces.dashboard",{space:a.slug}),className:"inline-flex items-center justify-center rounded-full bg-pink-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-pink-700",children:"Masuk Space"})})]}),i&&e.jsx("div",{className:"mt-3 rounded-md border border-red-100 bg-red-50 px-3 py-2 text-sm text-red-700",children:i.initiated_by_you?"Permintaan pembubaran sudah dikirim. Menunggu konfirmasi pasanganmu.":i.requires_your_confirmation?"Permintaan pembubaran menunggu keputusanmu.":"Permintaan pembubaran sedang diproses."}),!a.has_partner&&e.jsxs("div",{className:"mt-4 space-y-3",children:[n&&e.jsx("div",{className:_e(n.type),children:n.message}),d?e.jsxs("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4 text-sm text-amber-800",children:[e.jsxs("p",{children:["Undangan sedang menunggu konfirmasi dari "," ",e.jsx("span",{className:"font-semibold",children:d.email}),". Batalkan undangan ini jika ingin mengundang akun lain."]}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.jsx(h,{type:"button",disabled:V===d.id,onClick:()=>void Ee(a,d.id),className:"bg-amber-500 hover:bg-amber-600 disabled:opacity-70",children:V===d.id?"Membatalkan...":"Batalkan Undangan"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:()=>Fe(a.id),className:"inline-flex items-center justify-center rounded-full border border-pink-200 px-4 py-2 text-sm font-semibold text-pink-600 transition hover:bg-pink-50",children:t?"Tutup Form Tambah Pasangan":"Tambahkan Pasangan"}),t&&e.jsxs("form",{className:"space-y-4 rounded-lg border border-pink-100 bg-pink-50 p-4",onSubmit:o=>{o.preventDefault(),Pe(a)},children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:`partner_name_${a.id}`,value:"Nama Pasangan"}),e.jsx(b,{id:`partner_name_${a.id}`,value:s.name,className:"mt-1 block w-full",onChange:o=>ie(a.id,"name",o.target.value),placeholder:"Contoh: Aulia Rahma",autoComplete:"off"}),e.jsx(j,{message:r.partner_name,className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:`partner_email_${a.id}`,value:"Email Pasangan"}),e.jsx(b,{id:`partner_email_${a.id}`,type:"email",value:s.email,className:"mt-1 block w-full",onChange:o=>ie(a.id,"email",o.target.value),placeholder:"nama@email.com",autoComplete:"off"}),e.jsx(j,{message:r.partner_email,className:"mt-1"})]}),e.jsx(h,{type:"submit",className:"w-full justify-center",disabled:z===a.id,children:z===a.id?"Mengirim undangan...":"Kirim Undangan"}),e.jsx("p",{className:"text-xs text-pink-600",children:"Pasanganmu akan melihat undangan ini saat mereka masuk menggunakan email di atas."})]})]})]}),a.invitations.length>0&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Riwayat undangan"}),e.jsx("div",{className:"space-y-2",children:a.invitations.map(o=>e.jsx("div",{className:"rounded-lg border border-gray-100 bg-gray-50 p-3",children:e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.email}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Dikirim ",o.sent_at??"waktu tidak diketahui"]}),o.responded_at&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Ditanggapi ",o.responded_at]}),o.cancelled_at&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Dibatalkan ",o.cancelled_at]})]}),e.jsx("div",{className:"flex items-start sm:flex-col sm:items-end",children:e.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold "+we(o.status),children:o.status_label})})]})},o.id))})]})]},a.id)})})]})]}),Me=a=>{const s=a.pending_separation,n=oe(a.id),r=me(a.id),t=v===a.id;return s?e.jsxs("div",{id:`space-separation-${a.id}`,className:"bg-white shadow-sm rounded-xl p-6 space-y-5",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:e.jsx(ge,{className:"h-6 w-6 text-red-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Permintaan Pembubaran Sedang Berjalan"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:s.initiated_by_you?"Kamu sudah mengajukan permintaan untuk mengakhiri Space. Pasanganmu harus mengetik frasa konfirmasi agar proses selesai.":s.requires_your_confirmation?"Pasanganmu meminta untuk mengakhiri Space ini. Pastikan kamu mempertimbangkan baik-baik sebelum mengambil keputusan.":"Permintaan pembubaran sedang diproses."}),s.created_at&&e.jsxs("p",{className:"mt-1 text-xs text-gray-400",children:["Diajukan pada"," ",new Date(s.created_at).toLocaleString()]})]})]}),(s.reason.initiator||s.reason.partner)&&e.jsxs("div",{className:"rounded-xl border border-red-100 bg-red-50 p-4 text-sm text-red-700 space-y-1",children:[s.reason.initiator&&e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Alasan pengaju:"})," ",s.reason.initiator]}),s.reason.partner&&e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Catatan pasangan:"})," ",s.reason.partner]})]}),s.initiated_by_you&&e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between rounded-xl border border-dashed border-red-200 bg-red-50 p-4",children:[e.jsx("div",{className:"text-sm text-red-700",children:"Kamu masih bisa membatalkan permintaan ini jika berubah pikiran."}),e.jsx("button",{type:"button",onClick:()=>Ke(a),disabled:ne===a.id,className:"inline-flex items-center justify-center rounded-full bg-white px-4 py-2 text-sm font-semibold text-red-600 ring-1 ring-inset ring-red-200 transition hover:bg-red-100 disabled:pointer-events-none disabled:opacity-60",children:ne===a.id?"Membatalkan...":"Batalkan Permintaan"})]}),s.requires_your_confirmation&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(p,{htmlFor:`respond_reason_${a.id}`,value:"Berikan catatan (opsional)"}),e.jsx("textarea",{id:`respond_reason_${a.id}`,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring focus:ring-red-200 focus:ring-opacity-50",rows:3,value:r.reason,onChange:i=>de(a.id,{reason:i.target.value}),placeholder:"Bagikan alasanmu atau harapan setelah keputusan ini."})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:`respond_phrase_${a.id}`,value:"Frasa Konfirmasi"}),e.jsx(b,{id:`respond_phrase_${a.id}`,value:r.phrase,className:"mt-1 block w-full uppercase tracking-widest",onChange:i=>de(a.id,{phrase:i.target.value.toUpperCase()}),placeholder:g}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Ketik persis"," ",`"${g}"`," untuk mengonfirmasi keputusanmu."]})]}),e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[e.jsx("button",{type:"button",onClick:()=>ue(a,"reject"),disabled:k===a.id,className:"inline-flex items-center justify-center rounded-full bg-white px-4 py-2 text-sm font-semibold text-gray-600 ring-1 ring-inset ring-gray-200 transition hover:bg-gray-100 disabled:pointer-events-none disabled:opacity-60",children:k===a.id?"Memproses...":"Tolak & Pertahankan Space"}),e.jsx(h,{type:"button",disabled:k===a.id,className:"justify-center",onClick:()=>ue(a,"approve"),children:k===a.id?"Mengonfirmasi...":"Setujui & Akhiri Space"})]})]})]},`separation-${a.id}`):e.jsxs("div",{id:`space-separation-${a.id}`,className:"bg-white shadow-sm rounded-xl p-6 space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Akhiri atau Hapus Space"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Proses ini memerlukan frasa konfirmasi khusus. Setelah disetujui kedua pihak, seluruh data Space akan ditutup dan kamu bisa memulai perjalanan baru."})]}),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>ce(a.id),className:"inline-flex items-center justify-center rounded-full border border-gray-200 px-4 py-2 text-sm font-semibold text-gray-600 transition hover:bg-gray-50",children:"Tutup Form Akhiri Space"})}),e.jsxs("form",{onSubmit:i=>{i.preventDefault(),$e(a)},className:"space-y-4",children:[a.has_partner?e.jsx("div",{className:"rounded-xl border border-purple-100 bg-purple-50 p-4 text-sm text-purple-700",children:"Diskusikan dulu dengan pasanganmu. Permintaan ini tidak bisa dipulihkan setelah keduanya menyetujui."}):e.jsx("div",{className:"rounded-xl border border-indigo-100 bg-indigo-50 p-4 text-sm text-indigo-700",children:"Space ini belum punya pasangan. Setelah kamu mengetik frasa konfirmasi, Space akan langsung dihapus."}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:`separation_reason_${a.id}`,value:"Alasanmu (opsional)"}),e.jsx("textarea",{id:`separation_reason_${a.id}`,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-pink-500 focus:ring focus:ring-pink-200 focus:ring-opacity-50",rows:3,value:n.reason,onChange:i=>le(a.id,{reason:i.target.value}),placeholder:"Tulis alasanmu agar pasangan memahami keputusan ini."})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:`separation_phrase_${a.id}`,value:"Frasa Konfirmasi"}),e.jsx(b,{id:`separation_phrase_${a.id}`,value:n.phrase,className:"mt-1 block w-full uppercase tracking-widest",onChange:i=>le(a.id,{phrase:i.target.value.toUpperCase()}),placeholder:g}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Ketik persis"," ",`"${g}"`," untuk mengirim permintaan."]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{type:"submit",className:"w-full justify-center",disabled:ee===a.id,children:ee===a.id?"Mengirim...":a.has_partner?"Ajukan Permintaan Pembubaran":"Hapus Space Sekarang"}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Setelah kamu mengajukan, pasanganmu akan menerima notifikasi untuk menyetujui atau menolak."})]})]})]}):e.jsx("div",{className:"flex justify-start",children:e.jsx("button",{type:"button",onClick:()=>ce(a.id),className:"inline-flex items-center justify-center rounded-full border border-gray-200 px-4 py-2 text-sm font-semibold text-gray-600 transition hover:bg-gray-50",children:"Kelola / Akhiri Space"})})]},`separation-${a.id}`)};return e.jsxs(Ge,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800",children:"Spaces"}),children:[e.jsx(Ue,{title:"Spaces"}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 space-y-6 pt-4",children:[P&&e.jsx("div",{className:"rounded-lg border border-pink-100 bg-pink-50 px-4 py-3 text-sm text-pink-700",children:P}),_&&e.jsx("div",{className:`rounded-lg border px-4 py-3 text-sm ${_.type==="success"?"border-emerald-100 bg-emerald-50 text-emerald-700":"border-red-100 bg-red-50 text-red-700"}`,children:_.message}),A&&e.jsx("div",{className:`rounded-lg border px-4 py-3 text-sm ${A.type==="success"?"border-amber-100 bg-amber-50 text-amber-700":"border-red-100 bg-red-50 text-red-700"}`,children:A.message}),L&&e.jsx("div",{className:"rounded-lg border border-red-100 bg-red-50 px-4 py-3 text-sm text-red-700",children:L}),Se.length>0&&e.jsxs("div",{className:"rounded-xl border border-red-100 bg-red-50 px-4 py-3 text-sm text-red-700 flex items-start gap-3",children:[e.jsx(ge,{className:"mt-0.5 h-5 w-5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Perlu keputusanmu"}),e.jsx("p",{className:"mt-1 text-xs text-red-600",children:"Ada permintaan pembubaran Space yang menunggu persetujuanmu. Gulir ke bawah untuk menindaklanjuti."})]})]}),Ne&&e.jsxs("div",{className:"bg-white shadow-sm rounded-xl p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Undangan Space untuk Kamu"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Terima undangan berikut untuk bergabung dengan Space pasanganmu."})]}),e.jsx("div",{className:"space-y-3",children:F.map(a=>e.jsx("div",{className:"rounded-lg border border-purple-100 bg-purple-50 px-4 py-3",children:e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.space.title}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Diundang menggunakan email"," ",e.jsx("span",{className:"font-semibold",children:a.email})]})]}),e.jsx(h,{type:"button",disabled:T===a.id,onClick:()=>Ie(a),className:"justify-center",children:T===a.id?"Mengonfirmasi...":"Terima Undangan"})]})},a.id))})]}),ve?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"pt-4 grid gap-6",children:[De(),pe()]}),e.jsx("div",{className:"grid gap-6",children:N.map(a=>Me(a))})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white shadow-sm rounded-xl p-8 space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Selamat datang di LoveSpace!"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Kamu sudah berhasil membuat akun. Pilih salah satu opsi di bawah ini untuk mulai menggunakan LoveSpace bersama pasanganmu."})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[Be(),pe()]})]})]})]})}export{Ze as default};
