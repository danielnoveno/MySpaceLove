import{a as c,j as e,H as _,L as z}from"./app-CpTrn_zj.js";import{S as O}from"./SecretCodeGate-CjnjNA1B.js";import{b as T,c as F,a as g}from"./react-spring_web.modern-B08NpVkR.js";import{B as q}from"./book-open-DhUg3D_W.js";import{c as N}from"./createLucideIcon-C0075d5o.js";import{S as v}from"./sparkles-BbA2MjWt.js";import{H as E}from"./heart-Bwdc_jE9.js";import{A as D}from"./arrow-left-CR78xiT-.js";import"./index-2Py3zg4-.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],P=N("arrow-right",H);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],X=N("flower",R);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],G=N("star",Y),B={empty:"No stories to display yet.",narratorLabel:"Love log",progressSuffix:"complete",messageLabel:"A note for you",previous:"Previous",next:"Next",finish:"Finish",dateFallback:"Special memory"},k=[68,52,60,56],L=[18,-14,12,-10],M=[{top:"6%",left:"6%"},{top:"10%",right:"10%"},{bottom:"14%",left:"12%"},{bottom:"10%",right:"14%"}],U={hearts:E,sparkles:v,stars:G,petals:X},V=(s,o)=>({transform:s.to((m,n)=>`translate3d(${m*o}px, ${n*o}px, 0) rotateZ(${m*o*.4}deg)`)}),W=s=>`linear-gradient(135deg, ${s}1A 0%, ${s}33 50%, ${s}00 100%)`;function Z({chapters:s,onReachEnd:o,labels:m}){const n={...B,...m},[l,b]=c.useState(0),[d,i]=c.useState("forward"),[u,x]=T(()=>({xy:[0,0],config:{mass:10,tension:200,friction:35}})),w=F(l,{key:l,from:{opacity:0,transform:`perspective(1600px) rotateY(${d==="forward"?-90:90}deg) translateX(${d==="forward"?60:-60}%) scale(0.92)`},enter:{opacity:1,transform:"perspective(1600px) rotateY(0deg) translateX(0%) scale(1)"},leave:{opacity:0,transform:`perspective(1600px) rotateY(${d==="forward"?88:-88}deg) translateX(${d==="forward"?-54:54}%) scale(0.92)`},config:{tension:240,friction:32,precision:.01}}),h=s.length;if(h===0)return e.jsx("div",{className:"rounded-3xl border border-white/30 bg-white/10 px-8 py-10 text-center text-white/70 backdrop-blur",children:n.empty});const y=c.useMemo(()=>Math.round((l+1)/h*100),[l,h]),f=s[l],S=c.useCallback(a=>{const r=a.currentTarget.getBoundingClientRect(),t=(a.clientX-r.left)/r.width-.5,p=(a.clientY-r.top)/r.height-.5;x.start({xy:[t*20,p*20]})},[x]),$=c.useCallback(()=>{x.start({xy:[0,0]})},[x]),C=c.useCallback(()=>{l<h-1?(i("forward"),b(a=>Math.min(a+1,h-1))):o&&o()},[l,o,h]),I=c.useCallback(()=>{l>0&&(i("backward"),b(a=>Math.max(a-1,0)))},[l]);return e.jsxs("div",{className:"flex w-full max-w-5xl flex-col gap-8",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold uppercase tracking-[0.36em] text-white/70",children:[e.jsx("span",{children:f.chapterLabel}),e.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-3 py-1 text-white/80 backdrop-blur",children:[e.jsx(q,{size:16}),e.jsxs("span",{children:[l+1," / ",h]})]}),e.jsx("span",{children:f.dateLabel??n.dateFallback})]}),e.jsxs("div",{className:"relative mx-auto h-[620px] w-full max-w-4xl",style:{perspective:"1600px"},onMouseMove:S,onMouseLeave:$,children:[e.jsx("div",{className:"absolute inset-0 rounded-[2.75rem] bg-white/20 blur-3xl"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 via-white/5 to-transparent"}),e.jsxs("div",{className:"relative h-full overflow-hidden rounded-[2.5rem] shadow-2xl ring-1 ring-white/30",children:[e.jsx("div",{className:"absolute inset-0",style:{background:f.theme.gradient}}),e.jsx(g.div,{className:"pointer-events-none absolute inset-0",style:{opacity:u.xy.to((a,r)=>.6+Math.min(.3,(Math.abs(a)+Math.abs(r))/60))},children:f.decorations.map((a,r)=>{const t=U[a]??v,p=M[r%M.length],j=L[r%L.length],A=k[r%k.length];return e.jsx(g.div,{className:"absolute text-white/70",style:{...p,...V(u.xy,j)},children:e.jsx(t,{size:A,className:"drop-shadow-lg",strokeWidth:1.5,color:f.theme.accent})},`${a}-${r}`)})}),e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e.jsx("div",{className:"absolute inset-0 bg-white/20 mix-blend-soft-light"})}),e.jsx("div",{className:"absolute inset-0",children:w((a,r)=>{const t=s[r];return e.jsxs(g.div,{style:a,className:"absolute inset-0 flex flex-col",children:[e.jsx("div",{className:"absolute inset-6 rounded-[2rem] border",style:{borderImage:`${W(t.theme.accent)} 1`,borderWidth:"1px"}}),e.jsxs("div",{className:"relative z-10 flex h-full flex-col justify-between p-12 text-left text-slate-800",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"inline-flex items-center gap-3 rounded-full bg-white/60 px-5 py-2 text-sm font-semibold uppercase tracking-[0.32em] text-slate-500 shadow-sm backdrop-blur",children:[e.jsx("span",{children:t.chapterLabel}),t.dateLabel&&e.jsx("span",{className:"text-xs tracking-[0.2em] text-slate-400",children:t.dateLabel})]}),e.jsxs("div",{className:"max-w-xl space-y-3 text-slate-900",children:[e.jsx("h2",{className:"text-4xl font-bold leading-tight text-slate-900 drop-shadow-sm",children:t.title}),e.jsx("p",{className:"text-lg text-slate-600",children:t.intro})]}),e.jsx("p",{className:"max-w-2xl text-base leading-7 text-slate-700",children:t.story})]}),e.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-end lg:justify-between",children:[e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:t.highlights.map((p,j)=>e.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-white/50 bg-white/70 px-5 py-4 text-slate-700 shadow backdrop-blur-sm",children:[e.jsx("div",{className:"absolute inset-0 opacity-60",style:{background:`radial-gradient(circle at top left, ${t.theme.soft}, transparent 65%)`}}),e.jsxs("div",{className:"relative space-y-1",children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-[0.24em] text-slate-500",children:p.title}),e.jsx("p",{className:"text-sm leading-6 text-slate-700",children:p.description})]})]},`${t.id}-highlight-${j}`))}),t.quote&&e.jsx("div",{className:"max-w-sm",children:e.jsxs("div",{className:"rounded-3xl bg-white/70 p-6 text-slate-700 shadow-md backdrop-blur",children:[e.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-slate-400",children:n.messageLabel}),e.jsxs("blockquote",{className:"mt-3 text-lg font-semibold leading-7 text-slate-800",children:["“",t.quote.text,"”"]}),t.quote.author&&e.jsxs("p",{className:"mt-3 text-sm text-slate-500",children:["— ",t.quote.author]})]})})]})]})]},t.id)})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm font-medium uppercase tracking-[0.24em] text-white/70",children:[e.jsx("span",{children:n.narratorLabel}),e.jsxs("span",{children:[y,"% ",n.progressSuffix]})]}),e.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-white/20",children:e.jsx(g.div,{className:"h-full rounded-full bg-white",style:{width:`${y}%`,opacity:u.xy.to((a,r)=>.65+Math.min(.25,(Math.abs(a)+Math.abs(r))/80))}})}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("button",{onClick:I,disabled:l===0,className:"inline-flex items-center gap-2 rounded-full px-6 py-3 text-sm font-semibold uppercase tracking-[0.3em] transition disabled:cursor-not-allowed disabled:opacity-50",style:{background:"rgba(255,255,255,0.18)",color:"rgba(255,255,255,0.85)"},children:[e.jsx(D,{size:16}),n.previous]}),e.jsx("button",{onClick:C,className:"inline-flex items-center gap-2 rounded-full bg-white px-7 py-3 text-sm font-semibold uppercase tracking-[0.3em] text-slate-800 shadow-lg shadow-white/40 transition hover:shadow-xl hover:shadow-white/50",children:l===h-1?e.jsxs(e.Fragment,{children:[n.finish,e.jsx(v,{size:18})]}):e.jsxs(e.Fragment,{children:[n.next,e.jsx(P,{size:16})]})})]})]})]})}function ie({storyBook:s,space:o}){const[m,n]=c.useState(!1),l=o?.slug?route("location.public",{space:o.slug}):null,b=s.headTitle,d=s.hero,i=s.secretGate,u=s.flipbook,x=s.footer,w=c.useMemo(()=>s.chapters??[],[s.chapters]);return e.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-slate-950 text-white",children:[e.jsx(_,{title:b}),e.jsx("div",{className:"absolute inset-0 -z-20 bg-gradient-to-br from-rose-500/30 via-slate-900 to-violet-700/30"}),e.jsx("div",{className:"absolute left-1/2 top-0 -z-10 h-[720px] w-[720px] -translate-x-1/2 rounded-full bg-pink-400/30 blur-3xl"}),e.jsx("div",{className:"absolute right-[10%] bottom-[-120px] -z-10 h-[580px] w-[480px] rounded-full bg-purple-500/40 blur-3xl"}),e.jsx(O,{code:i.code,title:i.title,description:i.description,placeholder:i.placeholder,buttonLabel:i.buttonLabel,errorMessage:i.errorMessage,hint:i.hint,hintLabel:i.hintLabel,accessLabel:i.accessLabel,inputLabel:i.inputLabel,children:e.jsxs("div",{className:"relative mx-auto flex min-h-screen w-full max-w-6xl flex-col items-center justify-center gap-16 px-4 py-16 sm:px-8 md:px-12",children:[e.jsxs("header",{className:"flex flex-col items-center gap-6 text-center",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.48em] text-white/60",children:d.tagline}),e.jsx("h1",{className:"text-3xl font-bold leading-tight text-white sm:text-4xl md:text-5xl",children:d.title}),e.jsx("p",{className:"max-w-2xl text-sm text-white/70 sm:text-base",children:d.description})]}),e.jsx(Z,{chapters:w,onReachEnd:()=>n(!0),labels:u}),e.jsxs("footer",{className:"w-full max-w-4xl space-y-6 text-center text-sm text-white/70",children:[e.jsx("div",{className:"mx-auto h-px w-1/2 bg-gradient-to-r from-transparent via-white/30 to-transparent"}),e.jsx("p",{children:x.reminder}),m&&e.jsx("p",{className:"text-base font-semibold text-white",children:x.finishMessage}),l&&e.jsx("div",{className:"pt-2",children:e.jsx(z,{href:l,className:"inline-flex items-center justify-center gap-2 rounded-full bg-rose-500 px-7 py-3 text-sm font-semibold uppercase tracking-[0.3em] text-white transition hover:bg-rose-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-rose-300 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950",children:x.nextButton})})]})]})})]})}export{ie as default};
