import{a as i,j as e,H as M,L as g,r as S}from"./app-CpTrn_zj.js";import{A as k}from"./AuthenticatedLayout-Du1ilKJG.js";import{u as E}from"./useCurrentSpace-BBxOMrc3.js";import{H as j}from"./heart-Bwdc_jE9.js";import{E as P}from"./eye-DEKhWvEc.js";import{S as T,P as $}from"./square-pen-DtMzjbFp.js";import"./ApplicationLogo-CIVcEVux.js";import"./transition-D8AHnLll.js";import"./createLucideIcon-C0075d5o.js";function X({items:d}){const x=E();if(!x)return null;const c=x.slug,p=x.title,[m,f]=i.useState(null),w=i.useRef(null),[v,N]=i.useState({x:0,y:0}),[z]=i.useState(()=>Array.from({length:30},()=>({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:Math.random()*14+8,opacity:Math.random()*.5+.2}))),C=i.useMemo(()=>d.reduce((r,a,s)=>{const o=Math.sin(a.id*37.21+s*11.3)*1e3,h=((o-Math.floor(o))*12-6).toFixed(2);return r[a.id]=Number(h),r},{}),[d]);return i.useEffect(()=>{const r=w.current;if(!r)return;const a=r.getContext("2d");if(!a)return;r.width=window.innerWidth,r.height=window.innerHeight;const s=[],o=(t,n)=>{s.push({x:t,y:n,size:Math.random()*8+10,dx:(Math.random()-.5)*2,dy:(Math.random()-.5)*2})},h=(t,n,u,l,H=.6)=>{t.save(),t.translate(n,u),t.scale(l/20,l/20),t.beginPath(),t.moveTo(0,0),t.bezierCurveTo(0,-3,-5,-15,-20,-15),t.bezierCurveTo(-55,-15,-55,22.5,-55,22.5),t.bezierCurveTo(-55,40,-35,62,0,80),t.bezierCurveTo(35,62,55,40,55,22.5),t.bezierCurveTo(55,22.5,55,-15,20,-15),t.bezierCurveTo(5,-15,0,-3,0,0),t.fillStyle=`rgba(34,197,94,${H})`,t.fill(),t.restore()},b=()=>{a.clearRect(0,0,r.width,r.height),s.forEach((t,n)=>{t.x+=t.dx,t.y+=t.dy,h(a,t.x,t.y,t.size),(t.x<0||t.y<0||t.x>r.width||t.y>r.height)&&s.splice(n,1)}),requestAnimationFrame(b)};b();const y=t=>{for(let l=0;l<2;l++)o(t.clientX,t.clientY);const n=window.innerWidth/2,u=window.innerHeight/2;N({x:(t.clientX-n)*.02,y:(t.clientY-u)*.02})};return window.addEventListener("mousemove",y),window.addEventListener("resize",()=>{r.width=window.innerWidth,r.height=window.innerHeight}),()=>{window.removeEventListener("mousemove",y)}},[]),e.jsxs(k,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"font-semibold text-xl text-gray-800 flex items-center gap-2",children:[e.jsx(j,{className:"w-5 h-5 text-green-500"}),"Galeri ",p]}),e.jsxs(g,{href:route("gallery.create",{space:c}),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white px-4 py-2 rounded-lg shadow-lg transition-all duration-300 flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4"}),"Upload"]})]}),children:[e.jsx(M,{title:`Gallery - ${p}`}),e.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 py-10 px-4 sm:px-6 lg:px-8 overflow-hidden",children:[e.jsx("canvas",{ref:w,className:"absolute inset-0 w-full h-full pointer-events-none"}),e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:z.map((r,a)=>e.jsx("div",{className:"absolute text-green-400 select-none",style:{left:r.x,top:r.y,fontSize:r.size,opacity:r.opacity,transform:`translate3d(${v.x*.5}px, ${v.y*.5}px, 0)`,transition:"transform 0.2s ease-out"},children:"♥"},a))}),e.jsx("div",{className:"relative z-10 max-w-6xl mx-auto",children:d.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-3xl shadow-lg p-8 max-w-md mx-auto border border-gray-100",children:[e.jsx(j,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Belum ada foto/video"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Upload momen spesial pertamamu ✨"}),e.jsx(g,{href:route("gallery.create",{space:c}),className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-2 rounded-lg inline-block hover:shadow-lg transition-all",children:"Upload Sekarang"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:d.map(r=>{const a=C[r.id]??0,s=a>0?a-6:a+6,o=`/storage/${r.file_path}`;return e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 rounded-[30px] bg-white/60 shadow-lg -z-10 transition duration-300 group-hover:translate-x-2 group-hover:-translate-y-2",style:{transform:`rotate(${s}deg)`}}),e.jsxs("div",{className:"relative bg-white rounded-[30px] shadow-2xl border border-rose-50 px-6 pt-6 pb-8 transition duration-300 group-hover:-translate-y-2",style:{transform:`rotate(${a}deg)`},children:[e.jsx("div",{className:"overflow-hidden rounded-2xl border-4 border-white shadow-inner",children:e.jsx("img",{src:o,alt:r.title,className:"h-56 w-full object-cover transition duration-500 group-hover:scale-[1.03]"})}),e.jsx("p",{className:"mt-5 text-center text-lg font-semibold text-gray-800",children:r.title||"Untitled"}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs uppercase tracking-[0.28em] text-gray-400",children:[e.jsxs("button",{onClick:()=>f(r),className:"flex items-center gap-2 text-emerald-500 hover:text-emerald-600 transition",children:[e.jsx(P,{className:"h-4 w-4"})," Detail"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(g,{href:route("gallery.edit",{space:c,id:r.id}),className:"flex items-center gap-1 text-yellow-600 hover:text-yellow-700 transition",children:[e.jsx(T,{className:"h-4 w-4"})," Edit"]}),e.jsx("button",{onClick:()=>confirm("Yakin hapus?")&&S.delete(route("gallery.destroy",{space:c,id:r.id})),className:"text-rose-500 hover:text-rose-600 transition",children:"Hapus"})]})]})]})]},r.id)})})}),m&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",onClick:()=>f(null),children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-[90vw] max-h-[90vh] flex flex-col items-center justify-center",onClick:r=>r.stopPropagation(),children:[e.jsx("img",{src:`/storage/${m.file_path}`,alt:m.title,className:"max-w-full max-h-[70vh] object-contain rounded-lg mb-4"}),e.jsx("h3",{className:"text-2xl font-semibold mb-2 text-center",children:m.title})]})})]})]})}export{X as default};
